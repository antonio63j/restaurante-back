2020-12-28 13:22:36,950 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 20068 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:22:36,958 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:22:36,959 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:22:37,076 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:22:37,077 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:22:37,078 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:22:38,802 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:22:39,015 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 189ms. Found 6 JPA repository interfaces.
2020-12-28 13:22:39,969 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:40,020 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:40,046 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:40,053 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4b1f3401' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:40,059 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:40,076 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:22:41,851 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:22:41,875 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:22:41,876 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:22:41,877 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:22:42,050 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:22:42,050 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4972 ms
2020-12-28 13:22:42,431 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:22:42,637 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:22:43,104 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:22:43,345 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:22:43,558 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:22:43,593 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:22:45,494 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:22:45,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:22:45,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:22:45,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:22:45,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:22:45,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:22:45,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:22:45,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:22:45,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:22:45,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:22:45,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:22:45,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:22:45,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:22:45,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:22:45,581 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:22:45,603 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:22:45,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:22:45,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:22:45,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:22:45,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:22:45,642 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:22:45,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:22:45,666 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:22:45,669 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:22:45,678 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:22:45,681 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:22:45,688 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:22:45,692 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:22:45,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:22:45,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:22:45,704 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:22:45,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:22:45,715 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:22:45,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:22:45,728 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:22:45,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:22:45,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:22:45,745 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:22:45,756 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:22:45,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:22:45,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:22:45,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:22:45,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', {'ROLE_ADMIN', 'ROLE_USER'})
2020-12-28 13:22:45,778 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', {'ROLE_ADMIN', 'ROLE_USER'})" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', {'ROLE_ADMIN', 'ROLE_USER'})" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «{»
  Position: 133
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:22:45,782 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:22:45,795 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:22:45,826 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:22:46,564 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:22:47,498 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:22:48,006 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:22:48,106 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:22:48,186 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:22:49,659 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a3d15f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@731b92c6, org.springframework.security.web.header.HeaderWriterFilter@2c88a4e2, org.springframework.security.web.authentication.logout.LogoutFilter@37663c13, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3683005d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@449a85a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@421809a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36b6fe5d, org.springframework.security.web.session.SessionManagementFilter@150b7e16, org.springframework.security.web.access.ExceptionTranslationFilter@5a6bb48b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@162dfe73]
2020-12-28 13:22:49,691 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4c8fda90, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@488725fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e8243e7, org.springframework.security.web.header.HeaderWriterFilter@73c11aee, org.springframework.web.filter.CorsFilter@42bceef8, org.springframework.security.web.authentication.logout.LogoutFilter@10c3de00, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7e02503e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5519ad01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ef4db26, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c0985b5, org.springframework.security.web.session.SessionManagementFilter@2608939f, org.springframework.security.web.access.ExceptionTranslationFilter@6cfeffc1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@262f1892]
2020-12-28 13:22:49,700 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cefc893, org.springframework.security.web.context.SecurityContextPersistenceFilter@5587b10a, org.springframework.security.web.header.HeaderWriterFilter@521b69ff, org.springframework.security.web.authentication.logout.LogoutFilter@520cf5c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bc0bf84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@729d7592, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3de3ffd5, org.springframework.security.web.session.SessionManagementFilter@61f5297c, org.springframework.security.web.access.ExceptionTranslationFilter@11c7e5c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@621bf2d4]
2020-12-28 13:22:49,877 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:22:49,925 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:22:49,928 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 13.912 seconds (JVM running for 14.932)
2020-12-28 13:24:56,809 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 16728 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:24:56,816 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:24:56,817 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:24:56,964 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:24:56,965 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:24:56,966 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:24:58,512 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:24:58,727 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 196ms. Found 6 JPA repository interfaces.
2020-12-28 13:24:59,555 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:24:59,706 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:24:59,713 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:24:59,718 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@c1e30b4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:24:59,721 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:24:59,730 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:01,038 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:25:01,061 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:25:01,063 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:25:01,063 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:25:01,258 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:25:01,259 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4292 ms
2020-12-28 13:25:01,613 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:25:01,755 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:25:02,120 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:25:02,315 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:25:02,511 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:25:02,542 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:25:03,939 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:25:03,944 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:25:03,945 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:25:03,946 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:25:03,948 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:25:03,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:25:03,960 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:25:03,964 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:25:03,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:25:03,977 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:25:03,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:25:03,987 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:25:03,993 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:25:04,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:25:04,008 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:25:04,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:25:04,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:25:04,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:25:04,053 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:25:04,064 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:25:04,067 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:25:04,074 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:25:04,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:25:04,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:25:04,099 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:25:04,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:25:04,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:25:04,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:25:04,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:25:04,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:25:04,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:25:04,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:25:04,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:25:04,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:25:04,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:25:04,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:25:04,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:25:04,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:25:04,170 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:25:04,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:25:04,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:25:04,175 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:25:04,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{'ROLE_ADMIN', 'ROLE_USER'}')
2020-12-28 13:25:04,191 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{'ROLE_ADMIN', 'ROLE_USER'}')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{'ROLE_ADMIN', 'ROLE_USER'}')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «ROLE_ADMIN»
  Position: 136
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:25:04,195 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:25:04,207 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:25:04,284 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:25:05,052 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:25:05,852 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:25:06,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:25:06,485 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:25:06,546 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:25:07,903 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@731f524, org.springframework.security.web.context.SecurityContextPersistenceFilter@652ab0c4, org.springframework.security.web.header.HeaderWriterFilter@5340ae8e, org.springframework.security.web.authentication.logout.LogoutFilter@6a69400e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@21a08b00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55925ef2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4670c42e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49be640d, org.springframework.security.web.session.SessionManagementFilter@35553e3e, org.springframework.security.web.access.ExceptionTranslationFilter@f83363d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67846bff]
2020-12-28 13:25:07,933 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@75cd5285, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@137bbb6a, org.springframework.security.web.context.SecurityContextPersistenceFilter@67e45576, org.springframework.security.web.header.HeaderWriterFilter@35e6da4f, org.springframework.web.filter.CorsFilter@6a053e34, org.springframework.security.web.authentication.logout.LogoutFilter@2ba9e6ad, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@68672442, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59494ac8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5afec70c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bd45ed8, org.springframework.security.web.session.SessionManagementFilter@4c8f0ccd, org.springframework.security.web.access.ExceptionTranslationFilter@169500d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79491531]
2020-12-28 13:25:07,951 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bec3df5, org.springframework.security.web.context.SecurityContextPersistenceFilter@752c62ca, org.springframework.security.web.header.HeaderWriterFilter@1f77e544, org.springframework.security.web.authentication.logout.LogoutFilter@46d6db56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bcb19d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b368429, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57e1a67, org.springframework.security.web.session.SessionManagementFilter@288e6335, org.springframework.security.web.access.ExceptionTranslationFilter@c5a5c72, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c450b86]
2020-12-28 13:25:08,134 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:25:08,169 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:25:08,172 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.171 seconds (JVM running for 13.145)
2020-12-28 13:25:50,893 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 21044 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:25:50,899 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:25:50,900 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:25:51,017 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:25:51,018 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:25:51,019 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:25:52,488 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:25:52,646 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 139ms. Found 6 JPA repository interfaces.
2020-12-28 13:25:53,497 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:53,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:53,556 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:53,562 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@23c500' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:53,568 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:53,582 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:25:54,861 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:25:54,885 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:25:54,886 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:25:54,887 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:25:55,062 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:25:55,063 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4043 ms
2020-12-28 13:25:55,506 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:25:55,660 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:25:55,952 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:25:56,116 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:25:56,306 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:25:56,349 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:25:58,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:25:58,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:25:58,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:25:58,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:25:58,175 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:25:58,176 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:25:58,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:25:58,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:25:58,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:25:58,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:25:58,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:25:58,217 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:25:58,223 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:25:58,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:25:58,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:25:58,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:25:58,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:25:58,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:25:58,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:25:58,291 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:25:58,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:25:58,300 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:25:58,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:25:58,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:25:58,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:25:58,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:25:58,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:25:58,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:25:58,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:25:58,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:25:58,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:25:58,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:25:58,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:25:58,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:25:58,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:25:58,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:25:58,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:25:58,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:25:58,385 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:25:58,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:25:58,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:25:58,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:25:58,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')
2020-12-28 13:25:58,406 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuario(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuario»
  Position: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:25:58,409 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:25:58,418 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:25:58,687 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:25:59,578 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:26:00,397 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:26:00,920 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:26:01,035 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:26:01,107 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:26:02,393 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ce99a61, org.springframework.security.web.context.SecurityContextPersistenceFilter@369e091d, org.springframework.security.web.header.HeaderWriterFilter@6abae5dc, org.springframework.security.web.authentication.logout.LogoutFilter@68e335e7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3f885e81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4561cd37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d6518bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a35df65, org.springframework.security.web.session.SessionManagementFilter@4a434200, org.springframework.security.web.access.ExceptionTranslationFilter@74045441, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b27b67c]
2020-12-28 13:26:02,424 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@12a2467c, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a123f93, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a04f686, org.springframework.security.web.header.HeaderWriterFilter@4d7f691, org.springframework.web.filter.CorsFilter@3295e501, org.springframework.security.web.authentication.logout.LogoutFilter@51321c1b, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2e8579f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b52c753, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@108acfd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78e5b173, org.springframework.security.web.session.SessionManagementFilter@3926ade8, org.springframework.security.web.access.ExceptionTranslationFilter@334e5b3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ff8b858]
2020-12-28 13:26:02,431 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b068f, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c1a8b15, org.springframework.security.web.header.HeaderWriterFilter@28a4ab30, org.springframework.security.web.authentication.logout.LogoutFilter@50d42140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c440401, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31b4c592, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69a7276a, org.springframework.security.web.session.SessionManagementFilter@159f8b9a, org.springframework.security.web.access.ExceptionTranslationFilter@1a2f423d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e3db3f]
2020-12-28 13:26:02,673 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:26:02,717 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:26:02,720 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.724 seconds (JVM running for 13.641)
2020-12-28 13:27:17,901 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 25076 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:27:17,930 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:27:17,932 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:27:18,078 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:27:18,078 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:27:18,079 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:27:19,661 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:27:19,884 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 185ms. Found 6 JPA repository interfaces.
2020-12-28 13:27:20,778 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:20,823 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:20,829 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:20,836 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@200d6e19' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:20,844 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:20,856 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:27:22,095 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:27:22,117 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:27:22,119 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:27:22,120 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:27:22,316 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:27:22,317 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4238 ms
2020-12-28 13:27:22,755 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:27:22,894 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:27:23,213 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:27:23,432 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:27:23,631 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:27:23,661 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:27:25,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:27:25,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:27:25,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:27:25,195 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:27:25,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:27:25,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:27:25,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:27:25,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:27:25,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:27:25,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:27:25,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:27:25,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:27:25,242 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:27:25,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:27:25,259 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:27:25,277 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:27:25,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:27:25,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:27:25,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:27:25,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:27:25,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:27:25,330 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:27:25,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:27:25,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:27:25,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:27:25,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:27:25,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:27:25,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:27:25,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:27:25,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:27:25,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:27:25,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:27:25,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:27:25,391 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:27:25,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:27:25,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:27:25,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:27:25,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:27:25,423 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:27:25,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:27:25,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:27:25,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:27:25,432 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')
2020-12-28 13:27:25,444 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', '{"ROLE_ADMIN", "ROLE_USER"}')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la columna «roles» en la relación «usuarios»
  Position: 60
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:27:25,447 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:27:25,460 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:27:25,491 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:27:26,066 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:27:26,952 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:27:27,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:27:27,663 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:27:27,761 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:27:29,041 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27ed0660, org.springframework.security.web.context.SecurityContextPersistenceFilter@522d944b, org.springframework.security.web.header.HeaderWriterFilter@2ea1af63, org.springframework.security.web.authentication.logout.LogoutFilter@34fc2ac5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2033a3c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34fb2cc1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e2ee41f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ae35cff, org.springframework.security.web.session.SessionManagementFilter@538391b7, org.springframework.security.web.access.ExceptionTranslationFilter@34cf9bfe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f5f7174]
2020-12-28 13:27:29,069 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@684192a4, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e89ca91, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b94f9f6, org.springframework.security.web.header.HeaderWriterFilter@1b42149d, org.springframework.web.filter.CorsFilter@234fbd05, org.springframework.security.web.authentication.logout.LogoutFilter@65274417, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6bccb26d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28b2647e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@235f7b09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41f73a02, org.springframework.security.web.session.SessionManagementFilter@9a879a5, org.springframework.security.web.access.ExceptionTranslationFilter@7f0f8547, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7dd3e137]
2020-12-28 13:27:29,079 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17344943, org.springframework.security.web.context.SecurityContextPersistenceFilter@2bd132fd, org.springframework.security.web.header.HeaderWriterFilter@7b9a7ffe, org.springframework.security.web.authentication.logout.LogoutFilter@4e3207b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7645bbb3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e084f0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@700ce490, org.springframework.security.web.session.SessionManagementFilter@6f1bbef0, org.springframework.security.web.access.ExceptionTranslationFilter@6f264df1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ff24396]
2020-12-28 13:27:29,241 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:27:29,276 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:27:29,279 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.194 seconds (JVM running for 13.104)
2020-12-28 13:31:40,364 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:31:40,365 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-28 13:31:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:31:40,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:31:40,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:31:40,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:31:40,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:31:40,404 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2020-12-28 13:31:40,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2020-12-28 13:31:40,423 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2020-12-28 13:31:40,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2020-12-28 13:31:40,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2020-12-28 13:31:40,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2020-12-28 13:31:40,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2020-12-28 13:31:40,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2020-12-28 13:31:40,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2020-12-28 13:31:40,623 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2020-12-28 13:31:40,645 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2020-12-28 13:31:41,041 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 25324 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:31:41,049 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:31:41,050 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:31:41,196 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:31:41,197 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:31:41,197 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:31:42,216 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 25076 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:31:42,218 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:31:42,219 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:31:43,807 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:31:43,994 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 184ms. Found 6 JPA repository interfaces.
2020-12-28 13:31:44,678 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:31:44,917 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 214ms. Found 6 JPA repository interfaces.
2020-12-28 13:31:45,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:45,839 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:45,848 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:45,852 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@40e86724' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:45,855 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:45,865 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:31:47,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:31:47,112 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:31:47,114 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:31:47,114 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:31:47,284 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:31:47,285 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6087 ms
2020-12-28 13:31:47,631 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:31:47,865 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:31:48,131 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:31:48,366 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:31:48,576 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:31:48,604 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:31:50,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:31:50,313 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:31:50,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:31:50,315 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:31:50,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:31:50,317 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:31:50,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:31:50,319 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:31:50,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:31:50,321 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:31:50,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:31:50,324 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,324 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2020-12-28 13:31:50,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:31:50,326 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,326 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2020-12-28 13:31:50,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:31:50,327 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,327 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2020-12-28 13:31:50,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:31:50,328 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,328 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2020-12-28 13:31:50,329 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:31:50,330 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,330 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2020-12-28 13:31:50,330 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:31:50,331 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,331 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2020-12-28 13:31:50,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:31:50,332 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,332 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2020-12-28 13:31:50,332 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:31:50,333 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,333 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2020-12-28 13:31:50,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:31:50,334 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:31:50,334 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2020-12-28 13:31:50,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:31:50,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:31:50,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:31:50,377 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:31:50,392 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:31:50,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:31:50,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:31:50,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:31:50,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:31:50,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:31:50,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:31:50,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:31:50,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:31:50,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:31:50,456 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:31:50,460 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:31:50,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:31:50,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:31:50,473 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:31:50,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:31:50,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:31:50,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:31:50,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:31:50,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:31:50,507 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:31:50,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:31:50,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:31:50,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:31:50,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')
2020-12-28 13:31:50,523 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la columna «roles» en la relación «usuarios»
  Position: 60
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:31:50,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:31:50,528 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:31:50,529 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:31:50,531 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:31:50,534 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:31:50,543 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:31:50,579 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:31:51,429 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:31:52,349 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:31:52,964 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:31:53,105 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:31:53,185 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:32:06,664 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 7044 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:32:06,669 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:32:06,670 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:32:06,775 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:32:06,775 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:32:06,776 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:32:08,252 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:32:08,460 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 189ms. Found 6 JPA repository interfaces.
2020-12-28 13:32:09,356 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:09,409 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:09,417 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:09,424 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@46389556' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:09,436 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:09,451 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:32:10,764 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:32:10,783 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:32:10,784 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:32:10,785 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:32:10,957 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:32:10,958 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4182 ms
2020-12-28 13:32:11,423 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:32:11,547 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:32:11,829 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:32:12,029 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:32:12,208 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:32:12,245 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:32:13,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:32:13,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:32:13,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:32:13,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:32:13,834 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:32:13,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:32:13,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:32:13,851 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:32:13,857 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:32:13,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:32:13,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:32:13,875 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:32:13,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:32:13,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:32:13,897 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:32:13,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:32:13,919 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:32:13,926 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:32:13,936 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:32:13,948 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:32:13,951 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:32:13,957 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:32:13,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:32:13,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:32:13,974 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:32:13,978 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:32:13,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:32:13,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:32:13,996 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:32:14,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:32:14,005 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:32:14,009 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:32:14,012 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:32:14,017 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:32:14,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:32:14,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:32:14,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:32:14,039 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:32:14,049 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:32:14,050 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:32:14,052 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:32:14,053 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:32:14,058 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')
2020-12-28 13:32:14,068 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la columna «roles» en la relación «usuarios»
  Position: 60
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:32:14,069 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:32:14,075 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:32:14,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:32:14,077 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:32:14,081 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:32:14,093 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:32:14,125 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:32:14,918 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:32:15,677 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:32:16,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:32:16,372 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:32:16,459 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:32:17,864 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b82016, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c2defdc, org.springframework.security.web.header.HeaderWriterFilter@553bfba, org.springframework.security.web.authentication.logout.LogoutFilter@5d83c8fc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2bb55fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@150b7e16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@449a85a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@655f291a, org.springframework.security.web.session.SessionManagementFilter@a9b65c0, org.springframework.security.web.access.ExceptionTranslationFilter@e3d06d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17d339ae]
2020-12-28 13:32:17,884 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@2ce8d44b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@675c6a10, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e16de9f, org.springframework.security.web.header.HeaderWriterFilter@23e788f8, org.springframework.web.filter.CorsFilter@5daae370, org.springframework.security.web.authentication.logout.LogoutFilter@4e8243e7, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@66020f03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cfeffc1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73c11aee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@262f1892, org.springframework.security.web.session.SessionManagementFilter@75441b02, org.springframework.security.web.access.ExceptionTranslationFilter@5e5d80fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3dc8d6c9]
2020-12-28 13:32:17,891 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c4e5c98, org.springframework.security.web.context.SecurityContextPersistenceFilter@d6821a, org.springframework.security.web.header.HeaderWriterFilter@7ad72905, org.springframework.security.web.authentication.logout.LogoutFilter@5587b10a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11c7e5c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@521b69ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35e68d66, org.springframework.security.web.session.SessionManagementFilter@2aa33fc7, org.springframework.security.web.access.ExceptionTranslationFilter@5fb9c724, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@520cf5c2]
2020-12-28 13:32:18,029 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:32:18,064 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:32:18,068 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.305 seconds (JVM running for 13.227)
2020-12-28 13:33:01,929 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 11100 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:33:01,935 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:33:01,936 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:33:02,021 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:33:02,022 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:33:02,022 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:33:03,521 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:33:03,730 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 190ms. Found 6 JPA repository interfaces.
2020-12-28 13:33:04,613 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:04,668 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:04,676 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:04,682 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4854fad7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:04,689 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:04,702 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:33:05,908 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:33:05,931 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:33:05,933 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:33:05,933 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:33:06,105 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:33:06,106 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4083 ms
2020-12-28 13:33:06,455 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:33:06,825 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:33:07,070 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:33:07,266 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:33:07,454 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:33:07,518 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:33:08,934 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:33:08,939 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:33:08,942 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:33:08,943 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:33:08,945 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:33:08,946 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:33:08,957 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:33:08,961 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:33:08,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:33:08,974 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:33:08,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:33:08,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:33:08,991 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:33:09,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:33:09,008 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:33:09,021 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:33:09,034 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:33:09,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:33:09,062 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:33:09,079 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:33:09,083 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:33:09,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:33:09,103 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:33:09,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:33:09,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:33:09,118 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:33:09,122 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:33:09,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:33:09,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:33:09,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:33:09,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:33:09,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:33:09,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:33:09,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:33:09,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:33:09,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:33:09,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:33:09,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:33:09,184 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:33:09,185 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:33:09,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:33:09,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:33:09,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')
2020-12-28 13:33:09,207 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, roles) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la columna «roles» en la relación «usuarios»
  Position: 60
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:33:09,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:33:09,213 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:33:09,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:33:09,216 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:33:09,220 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:33:09,229 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:33:09,262 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:33:09,866 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:33:10,646 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:33:11,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:33:11,227 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:33:11,310 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:33:12,728 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c20d665, org.springframework.security.web.context.SecurityContextPersistenceFilter@323180ed, org.springframework.security.web.header.HeaderWriterFilter@57a95bb7, org.springframework.security.web.authentication.logout.LogoutFilter@653bf8d8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2bc33666, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7509b881, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50e2bac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d05ffb1, org.springframework.security.web.session.SessionManagementFilter@5817fbaf, org.springframework.security.web.access.ExceptionTranslationFilter@114a15be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@480285f9]
2020-12-28 13:33:12,755 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@597c9874, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26470f45, org.springframework.security.web.context.SecurityContextPersistenceFilter@4ede75a2, org.springframework.security.web.header.HeaderWriterFilter@75c0db0d, org.springframework.web.filter.CorsFilter@1f3063db, org.springframework.security.web.authentication.logout.LogoutFilter@14a34758, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@65e21a90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78cdb741, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ba613e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19de6b33, org.springframework.security.web.session.SessionManagementFilter@c55d78f, org.springframework.security.web.access.ExceptionTranslationFilter@2cd35ed6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ab39b7d]
2020-12-28 13:33:12,763 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14d77035, org.springframework.security.web.context.SecurityContextPersistenceFilter@6be756fe, org.springframework.security.web.header.HeaderWriterFilter@7eea277, org.springframework.security.web.authentication.logout.LogoutFilter@2f029bf8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31853a83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@430acbde, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@628e61b6, org.springframework.security.web.session.SessionManagementFilter@4b9ed54a, org.springframework.security.web.access.ExceptionTranslationFilter@4a720948, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c996c2a]
2020-12-28 13:33:12,911 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:33:12,942 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:33:12,944 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.855 seconds (JVM running for 12.732)
2020-12-28 13:35:02,038 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:35:02,039 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-28 13:35:02,041 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:35:02,055 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:35:02,057 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:35:02,059 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:35:02,062 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:35:02,064 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2020-12-28 13:35:02,076 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2020-12-28 13:35:02,083 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2020-12-28 13:35:02,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2020-12-28 13:35:02,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2020-12-28 13:35:02,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2020-12-28 13:35:02,218 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2020-12-28 13:35:02,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2020-12-28 13:35:02,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2020-12-28 13:35:02,285 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2020-12-28 13:35:02,305 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2020-12-28 13:35:03,050 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 21040 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:35:03,057 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:35:03,059 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:35:03,268 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:35:03,269 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:35:03,269 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:35:03,699 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 11100 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:35:03,700 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:35:03,700 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:35:04,296 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:35:04,370 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 73ms. Found 6 JPA repository interfaces.
2020-12-28 13:35:04,591 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,607 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,610 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,611 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@62218d3e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,614 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,649 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:04,791 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The MBean registry cannot be disabled because it has already been initialised
2020-12-28 13:35:04,911 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:35:04,912 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:35:04,913 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:35:04,914 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:35:04,945 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:35:04,946 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1240 ms
2020-12-28 13:35:05,050 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:35:05,059 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2020-12-28 13:35:05,127 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2020-12-28 13:35:05,128 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:35:05,560 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:35:05,564 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:35:05,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:35:05,568 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:35:05,569 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:35:05,571 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:35:05,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:35:05,574 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:35:05,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:35:05,577 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:35:05,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:35:05,582 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,582 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2020-12-28 13:35:05,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:35:05,584 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,584 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2020-12-28 13:35:05,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:35:05,586 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,586 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2020-12-28 13:35:05,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:35:05,588 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,588 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2020-12-28 13:35:05,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:35:05,589 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,590 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2020-12-28 13:35:05,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:35:05,591 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,592 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2020-12-28 13:35:05,592 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:35:05,593 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,593 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2020-12-28 13:35:05,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:35:05,595 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,595 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2020-12-28 13:35:05,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:35:05,596 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:35:05,597 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2020-12-28 13:35:05,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:35:05,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:35:05,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:35:05,650 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:35:05,668 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:35:05,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:35:05,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:35:05,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:35:05,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:35:05,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:35:05,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:35:05,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:35:05,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:35:05,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:35:05,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:35:05,909 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:35:05,918 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:35:05,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:35:05,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:35:05,976 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:35:05,987 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:35:05,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:35:05,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:35:06,007 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:35:06,017 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:35:06,019 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:35:06,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:35:06,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:35:06,030 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')
2020-12-28 13:35:06,035 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: el valor null para la columna «finalizada_activacion» viola la restricción not null
  Detail: La fila que falla contiene (1, null, null, null, null, null, null, null, null, null, null, null, antonio, 12345, 627336511, antonio63j@hotmail.com).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:06,036 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:35:06,041 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:06,042 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:35:06,044 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:06,046 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:35:06,046 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:35:06,059 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:35:06,214 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:35:06,309 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:35:06,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:35:06,645 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:35:06,666 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:35:07,104 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b7ec6a6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4db04ea6, org.springframework.security.web.header.HeaderWriterFilter@4d2bed08, org.springframework.security.web.authentication.logout.LogoutFilter@5cf0bd7e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1790a0d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14f3ed8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a211b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bb301ee, org.springframework.security.web.session.SessionManagementFilter@46ca70e5, org.springframework.security.web.access.ExceptionTranslationFilter@22df68ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@443b29]
2020-12-28 13:35:07,123 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@2718e99, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6eac3566, org.springframework.security.web.context.SecurityContextPersistenceFilter@7963a3b0, org.springframework.security.web.header.HeaderWriterFilter@2bd28943, org.springframework.web.filter.CorsFilter@2f0e075, org.springframework.security.web.authentication.logout.LogoutFilter@73f024f6, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@696f06dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc48266, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e38ccc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58331bc4, org.springframework.security.web.session.SessionManagementFilter@2d37d5b5, org.springframework.security.web.access.ExceptionTranslationFilter@20fc4331, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@364d9a9d]
2020-12-28 13:35:07,132 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fe3786a, org.springframework.security.web.context.SecurityContextPersistenceFilter@38192beb, org.springframework.security.web.header.HeaderWriterFilter@85faefe, org.springframework.security.web.authentication.logout.LogoutFilter@64917ee2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d01ef33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85c8633, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b55780, org.springframework.security.web.session.SessionManagementFilter@53e9c1df, org.springframework.security.web.access.ExceptionTranslationFilter@1c6b36c5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@325cc1d8]
2020-12-28 13:35:07,235 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:35:07,240 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:35:07,242 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 3.622 seconds (JVM running for 127.03)
2020-12-28 13:35:07,246 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2020-12-28 13:35:19,472 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 13040 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:35:19,485 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:35:19,487 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:35:19,657 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:35:19,658 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:35:19,658 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:35:21,209 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:35:21,408 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 179ms. Found 6 JPA repository interfaces.
2020-12-28 13:35:22,264 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:22,314 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:22,323 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:22,329 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@398ab966' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:22,332 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:22,344 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:35:23,732 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:35:23,754 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:35:23,756 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:35:23,757 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:35:23,947 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:35:23,948 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4289 ms
2020-12-28 13:35:24,397 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:35:24,522 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:35:24,737 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:35:24,872 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:35:25,051 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:35:25,081 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:35:26,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:35:26,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:35:26,559 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:35:26,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:35:26,562 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:35:26,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:35:26,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:35:26,581 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:35:26,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:35:26,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:35:26,600 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:35:26,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:35:26,609 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:35:26,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:35:26,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:35:26,644 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:35:26,655 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:35:26,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:35:26,678 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:35:26,693 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:35:26,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:35:26,702 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:35:26,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:35:26,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:35:26,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:35:26,730 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:35:26,734 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:35:26,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:35:26,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:35:26,752 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:35:26,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:35:26,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:35:26,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:35:26,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:35:26,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:35:26,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:35:26,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:35:26,793 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:35:26,804 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:35:26,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:35:26,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:35:26,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:35:26,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')
2020-12-28 13:35:26,825 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: el valor null para la columna «finalizada_activacion» viola la restricción not null
  Detail: La fila que falla contiene (1, null, null, null, null, null, null, null, null, null, null, null, antonio, 12345, 627336511, antonio63j@hotmail.com).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:26,826 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:35:26,831 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:26,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:35:26,833 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:35:26,837 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:35:26,847 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:35:26,878 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:35:27,422 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:35:28,217 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:35:28,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:35:28,840 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:35:28,990 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:35:30,298 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e02af5f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2378683c, org.springframework.security.web.header.HeaderWriterFilter@3fca02d5, org.springframework.security.web.authentication.logout.LogoutFilter@6cd55fc7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6705d237, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cae2e22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@492ae5df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c9e4b12, org.springframework.security.web.session.SessionManagementFilter@4b0e2da2, org.springframework.security.web.access.ExceptionTranslationFilter@e11de4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@258ddcb7]
2020-12-28 13:35:30,320 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4c17daa4, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65c92dcc, org.springframework.security.web.context.SecurityContextPersistenceFilter@375eea45, org.springframework.security.web.header.HeaderWriterFilter@40bd12b3, org.springframework.web.filter.CorsFilter@6f618bcc, org.springframework.security.web.authentication.logout.LogoutFilter@4e348305, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2522bb54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4385d1c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b856b88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ab4fbd, org.springframework.security.web.session.SessionManagementFilter@21489a07, org.springframework.security.web.access.ExceptionTranslationFilter@13fcfa7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7dd7f72]
2020-12-28 13:35:30,340 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ed2ee00, org.springframework.security.web.context.SecurityContextPersistenceFilter@dc65943, org.springframework.security.web.header.HeaderWriterFilter@486b8a03, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88cb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e10a043, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7abf0410, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78bd4a65, org.springframework.security.web.session.SessionManagementFilter@3605a946, org.springframework.security.web.access.ExceptionTranslationFilter@149ef565, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1223a456]
2020-12-28 13:35:30,491 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:35:30,526 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:35:30,530 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.918 seconds (JVM running for 12.806)
2020-12-28 13:37:30,295 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:37:30,297 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-28 13:37:30,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:37:30,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:37:30,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:37:30,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:37:30,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:37:30,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2020-12-28 13:37:30,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2020-12-28 13:37:30,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2020-12-28 13:37:30,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2020-12-28 13:37:30,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2020-12-28 13:37:30,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2020-12-28 13:37:30,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2020-12-28 13:37:30,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2020-12-28 13:37:30,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2020-12-28 13:37:30,413 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2020-12-28 13:37:30,437 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2020-12-28 13:37:31,358 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 12028 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:37:31,364 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:37:31,366 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:37:31,605 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:37:31,605 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:37:31,606 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:37:31,914 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 13040 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:37:31,915 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:37:31,916 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:37:33,724 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:37:34,035 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 281ms. Found 6 JPA repository interfaces.
2020-12-28 13:37:34,880 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:34,932 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:34,940 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:34,949 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4dfa9ab' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:34,951 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:34,964 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:37:36,421 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:37:36,445 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:37:36,447 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:37:36,447 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:37:36,623 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:37:36,624 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5017 ms
2020-12-28 13:37:37,023 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:37:37,180 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:37:37,386 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:37:37,564 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:37:37,737 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:37:37,760 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:37:39,105 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:37:39,114 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:37:39,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:37:39,116 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:37:39,117 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:37:39,118 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:37:39,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:37:39,120 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:37:39,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:37:39,122 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:37:39,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:37:39,125 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,125 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2020-12-28 13:37:39,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:37:39,127 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,127 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2020-12-28 13:37:39,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:37:39,128 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,129 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2020-12-28 13:37:39,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:37:39,130 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,130 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2020-12-28 13:37:39,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:37:39,131 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,132 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2020-12-28 13:37:39,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:37:39,133 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,133 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2020-12-28 13:37:39,133 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:37:39,134 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,135 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2020-12-28 13:37:39,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:37:39,136 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,136 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2020-12-28 13:37:39,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:37:39,137 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:37:39,137 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2020-12-28 13:37:39,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:37:39,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:37:39,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:37:39,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:37:39,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:37:39,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:37:39,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:37:39,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:37:39,221 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:37:39,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:37:39,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:37:39,232 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:37:39,236 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:37:39,241 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:37:39,245 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:37:39,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:37:39,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:37:39,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:37:39,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:37:39,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:37:39,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:37:39,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:37:39,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:37:39,287 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:37:39,296 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:37:39,297 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:37:39,300 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:37:39,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:37:39,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, finalizada-activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 13:37:39,311 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, finalizada-activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios(userName, password, nombre, telefono, finalizada-activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «-»
  Position: 70
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:37:39,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:37:39,316 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:37:39,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:37:39,319 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 13:37:39,321 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:37:39,329 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:37:39,364 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:37:40,187 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:37:41,215 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:37:42,051 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:37:42,172 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:37:42,244 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:37:44,052 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5751f2c3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f5ac020, org.springframework.security.web.header.HeaderWriterFilter@3b671da0, org.springframework.security.web.authentication.logout.LogoutFilter@2023e064, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@669041ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41a9ffea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ad40a24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1380ba93, org.springframework.security.web.session.SessionManagementFilter@51b6c8c6, org.springframework.security.web.access.ExceptionTranslationFilter@5488420b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f691b87]
2020-12-28 13:37:44,094 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@218cffad, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f01f7aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@68250daa, org.springframework.security.web.header.HeaderWriterFilter@ed91549, org.springframework.web.filter.CorsFilter@1c37bd2b, org.springframework.security.web.authentication.logout.LogoutFilter@380dac0d, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@31f559b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6270e303, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24c5c159, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1db79b41, org.springframework.security.web.session.SessionManagementFilter@4e625fd4, org.springframework.security.web.access.ExceptionTranslationFilter@53fb2481, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ea3e448]
2020-12-28 13:37:44,116 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f3ac4fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@547f0939, org.springframework.security.web.header.HeaderWriterFilter@7b03c552, org.springframework.security.web.authentication.logout.LogoutFilter@6c169721, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6daaa4fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8e6d54c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@388f1def, org.springframework.security.web.session.SessionManagementFilter@7dd6ae96, org.springframework.security.web.access.ExceptionTranslationFilter@3b704393, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11cf66c7]
2020-12-28 13:37:44,315 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:37:44,352 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:37:44,355 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 14.095 seconds (JVM running for 15.039)
2020-12-28 13:40:02,354 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:40:02,357 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-28 13:40:02,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:40:02,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:40:02,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:40:02,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:40:02,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:40:02,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2020-12-28 13:40:02,390 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2020-12-28 13:40:02,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2020-12-28 13:40:02,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2020-12-28 13:40:02,419 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2020-12-28 13:40:02,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2020-12-28 13:40:02,435 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2020-12-28 13:40:02,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2020-12-28 13:40:02,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2020-12-28 13:40:02,547 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2020-12-28 13:40:02,561 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2020-12-28 13:40:03,450 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 880 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:40:03,456 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:40:03,458 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:40:03,620 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:40:03,621 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:40:03,622 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:40:03,928 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 12028 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:40:03,928 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:40:03,929 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:40:05,911 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:40:06,021 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 108ms. Found 6 JPA repository interfaces.
2020-12-28 13:40:06,754 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,768 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1f62690c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,771 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,773 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:06,875 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The MBean registry cannot be disabled because it has already been initialised
2020-12-28 13:40:07,062 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:40:07,064 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:40:07,065 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:40:07,065 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:40:07,125 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:40:07,129 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3194 ms
2020-12-28 13:40:07,304 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:40:07,342 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2020-12-28 13:40:07,543 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2020-12-28 13:40:07,543 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:40:07,720 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:40:08,232 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:40:08,237 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:40:08,238 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:40:08,240 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:40:08,241 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:40:08,242 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:40:08,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:40:08,244 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:40:08,245 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:40:08,246 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2020-12-28 13:40:08,247 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:40:08,250 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,250 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2020-12-28 13:40:08,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:40:08,251 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,252 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2020-12-28 13:40:08,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:40:08,253 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,253 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2020-12-28 13:40:08,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:40:08,255 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,255 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2020-12-28 13:40:08,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:40:08,256 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,257 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2020-12-28 13:40:08,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:40:08,258 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,258 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2020-12-28 13:40:08,259 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:40:08,260 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,260 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2020-12-28 13:40:08,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:40:08,261 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,262 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2020-12-28 13:40:08,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:40:08,263 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2020-12-28 13:40:08,264 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2020-12-28 13:40:08,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:40:08,288 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:40:08,296 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 435ms. Found 6 JPA repository interfaces.
2020-12-28 13:40:08,299 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:40:08,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:40:08,330 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:40:08,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:40:08,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:40:08,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:40:08,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:40:08,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:40:08,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:40:08,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:40:08,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:40:08,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:40:08,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:40:08,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:40:08,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:40:08,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:40:08,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:40:08,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:40:08,461 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:40:08,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:40:08,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:40:08,503 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:40:08,514 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:40:08,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:40:08,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:40:08,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:40:08,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 13:40:08,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:40:08,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:40:08,536 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:40:08,537 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:40:08,549 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:40:08,931 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:40:09,221 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:40:10,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:40:10,024 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:40:10,042 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:40:10,918 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,184 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5043a77f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6bcd4b7, org.springframework.security.web.header.HeaderWriterFilter@787d8f8d, org.springframework.security.web.authentication.logout.LogoutFilter@51e220b0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@30d34fef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36f02e13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22e5dea7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df66b30, org.springframework.security.web.session.SessionManagementFilter@6d0fcc47, org.springframework.security.web.access.ExceptionTranslationFilter@4d8fae75, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a275d72]
2020-12-28 13:40:11,234 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,250 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@68e01620, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40c0b3b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4db6d679, org.springframework.security.web.header.HeaderWriterFilter@4eea2d02, org.springframework.web.filter.CorsFilter@4a4ba08b, org.springframework.security.web.authentication.logout.LogoutFilter@77d6e4b1, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@164c9e04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b8ddfed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@141061a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@703f8b65, org.springframework.security.web.session.SessionManagementFilter@4e8ac55f, org.springframework.security.web.access.ExceptionTranslationFilter@5a5395cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f6cb44b]
2020-12-28 13:40:11,256 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63e2a9b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3af88c9a, org.springframework.security.web.header.HeaderWriterFilter@68149b57, org.springframework.security.web.authentication.logout.LogoutFilter@1f134a60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b4acd34, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47c83129, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@133fa91d, org.springframework.security.web.session.SessionManagementFilter@419ce078, org.springframework.security.web.access.ExceptionTranslationFilter@462ee5b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c473317]
2020-12-28 13:40:11,316 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,320 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26f5288a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,323 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,334 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:11,647 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:40:11,652 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:40:11,662 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 7.84 seconds (JVM running for 162.346)
2020-12-28 13:40:11,666 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2020-12-28 13:40:13,127 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:40:13,148 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:40:13,150 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:40:13,150 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:40:13,575 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:40:13,576 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 9954 ms
2020-12-28 13:40:14,076 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:40:14,236 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:40:14,517 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:40:14,820 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:40:15,054 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:40:15,086 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:40:22,172 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 19732 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:40:22,178 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:40:22,179 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:40:22,304 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:40:22,304 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:40:22,305 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:40:23,819 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:40:24,133 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 297ms. Found 6 JPA repository interfaces.
2020-12-28 13:40:24,930 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:24,976 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:24,981 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:24,985 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7e5dc654' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:24,993 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:25,005 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:40:26,363 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:40:26,390 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:40:26,392 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:40:26,394 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:40:26,590 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:40:26,590 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4285 ms
2020-12-28 13:40:26,913 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:40:27,044 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:40:27,309 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:40:27,480 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:40:27,698 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:40:27,726 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:40:29,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:40:29,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:40:29,137 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:40:29,138 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:40:29,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:40:29,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:40:29,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:40:29,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:40:29,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:40:29,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:40:29,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:40:29,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:40:29,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:40:29,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:40:29,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:40:29,221 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:40:29,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:40:29,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:40:29,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:40:29,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:40:29,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:40:29,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:40:29,291 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:40:29,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:40:29,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:40:29,302 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:40:29,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:40:29,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:40:29,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:40:29,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:40:29,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:40:29,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:40:29,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:40:29,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:40:29,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:40:29,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:40:29,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:40:29,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:40:29,374 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:40:29,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:40:29,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:40:29,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:40:29,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 13:40:29,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:40:29,390 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:40:29,394 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:40:29,406 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:40:29,439 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:40:30,283 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:40:30,862 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:40:31,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:40:31,746 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:40:31,812 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:40:33,099 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b1a5bdc, org.springframework.security.web.context.SecurityContextPersistenceFilter@185562b6, org.springframework.security.web.header.HeaderWriterFilter@7e15fb80, org.springframework.security.web.authentication.logout.LogoutFilter@2a22be0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7a91b114, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51959f04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e907a58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ebcfb51, org.springframework.security.web.session.SessionManagementFilter@669041ed, org.springframework.security.web.access.ExceptionTranslationFilter@26785af7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e7ac2fe]
2020-12-28 13:40:33,126 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@34041fb, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8418094, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ae35a1d, org.springframework.security.web.header.HeaderWriterFilter@5b007ecd, org.springframework.web.filter.CorsFilter@2affb908, org.springframework.security.web.authentication.logout.LogoutFilter@7b03c552, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@279606b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b2faf93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2301502d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35b99183, org.springframework.security.web.session.SessionManagementFilter@7b9c7ea0, org.springframework.security.web.access.ExceptionTranslationFilter@1db79b41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cf86430]
2020-12-28 13:40:33,140 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b11a5f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@53853c77, org.springframework.security.web.header.HeaderWriterFilter@411f02ac, org.springframework.security.web.authentication.logout.LogoutFilter@37d0dede, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b31ba7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1282c7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b81f328, org.springframework.security.web.session.SessionManagementFilter@d1a5166, org.springframework.security.web.access.ExceptionTranslationFilter@114d302c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@877416b]
2020-12-28 13:40:33,301 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:40:33,337 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:40:33,341 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.076 seconds (JVM running for 12.916)
2020-12-28 13:41:02,815 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-28 13:41:02,816 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-12-28 13:41:02,830 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2020-12-28 13:41:03,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:41:03,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:41:03,274 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2020-12-28 13:41:03,274 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2020-12-28 13:41:03,367 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-2] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$7a275b00.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 13:45:28,972 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:45:28,975 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:45:28,977 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2020-12-28 13:45:28,978 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2020-12-28 13:45:29,062 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-5] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$7a275b00.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 13:46:50,129 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 20072 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:46:50,133 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:46:50,134 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:46:50,216 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:46:50,217 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:46:50,218 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:46:51,723 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:46:51,926 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 183ms. Found 6 JPA repository interfaces.
2020-12-28 13:46:52,865 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:52,958 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:52,968 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:52,972 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5fba3f15' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:52,977 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:52,986 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:46:54,455 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:46:54,478 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:46:54,480 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:46:54,480 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:46:54,684 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:46:54,685 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4467 ms
2020-12-28 13:46:55,042 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:46:55,284 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:46:55,530 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:46:55,712 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:46:55,883 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:46:55,910 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:46:57,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:46:57,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:46:57,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:46:57,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:46:57,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:46:57,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:46:57,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:46:57,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:46:57,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:46:57,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:46:57,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:46:57,391 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:46:57,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:46:57,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:46:57,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:46:57,428 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:46:57,435 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:46:57,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:46:57,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:46:57,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:46:57,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:46:57,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:46:57,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:46:57,495 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:46:57,500 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:46:57,505 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:46:57,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:46:57,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:46:57,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:46:57,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:46:57,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:46:57,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:46:57,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:46:57,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:46:57,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:46:57,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:46:57,569 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:46:57,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:46:57,589 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:46:57,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:46:57,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:46:57,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:46:57,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(userName, password, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 13:46:57,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:46:57,607 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:46:57,611 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:46:57,626 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:46:57,675 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:46:58,398 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:46:59,079 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:46:59,745 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:46:59,844 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:46:59,964 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:47:01,291 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fca02d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@29cb8b62, org.springframework.security.web.header.HeaderWriterFilter@2a055a0, org.springframework.security.web.authentication.logout.LogoutFilter@6c8343e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7d916f17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bb0222c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@444bdc37, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30374899, org.springframework.security.web.session.SessionManagementFilter@27187b13, org.springframework.security.web.access.ExceptionTranslationFilter@281cf599, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bf27ccb]
2020-12-28 13:47:01,343 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@6705d237, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19e6dbe3, org.springframework.security.web.context.SecurityContextPersistenceFilter@39710f71, org.springframework.security.web.header.HeaderWriterFilter@3cae2e22, org.springframework.web.filter.CorsFilter@11176e94, org.springframework.security.web.authentication.logout.LogoutFilter@640a596f, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@77077af0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b80454, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@492ae5df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@220017ca, org.springframework.security.web.session.SessionManagementFilter@59a8b5f0, org.springframework.security.web.access.ExceptionTranslationFilter@6f77063, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@591d4723]
2020-12-28 13:47:01,351 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4385d1c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@10d952d4, org.springframework.security.web.header.HeaderWriterFilter@2fa96ded, org.springframework.security.web.authentication.logout.LogoutFilter@32649c8f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16b6f1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@721430c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b856b88, org.springframework.security.web.session.SessionManagementFilter@115175d1, org.springframework.security.web.access.ExceptionTranslationFilter@542a5860, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@375eea45]
2020-12-28 13:47:01,517 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:47:01,551 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:47:01,555 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.19 seconds (JVM running for 13.157)
2020-12-28 13:49:32,932 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 21756 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 13:49:32,939 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 13:49:32,942 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 13:49:33,080 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 13:49:33,081 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 13:49:33,081 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 13:49:34,614 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 13:49:34,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 162ms. Found 6 JPA repository interfaces.
2020-12-28 13:49:35,571 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:35,619 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:35,626 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:35,632 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26f5288a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:35,635 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:35,649 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 13:49:36,969 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 13:49:36,999 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 13:49:37,012 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 13:49:37,013 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 13:49:37,225 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 13:49:37,226 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4144 ms
2020-12-28 13:49:37,705 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 13:49:37,843 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 13:49:38,082 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 13:49:38,388 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 13:49:38,593 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 13:49:38,623 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 13:49:40,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 13:49:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 13:49:40,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 13:49:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 13:49:40,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 13:49:40,282 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 13:49:40,295 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 13:49:40,300 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 13:49:40,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 13:49:40,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 13:49:40,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 13:49:40,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 13:49:40,328 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 13:49:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 13:49:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 13:49:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 13:49:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 13:49:40,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 13:49:40,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 13:49:40,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 13:49:40,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 13:49:40,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 13:49:40,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 13:49:40,428 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 13:49:40,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 13:49:40,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 13:49:40,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 13:49:40,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 13:49:40,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 13:49:40,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 13:49:40,463 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 13:49:40,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 13:49:40,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 13:49:40,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 13:49:40,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 13:49:40,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 13:49:40,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 13:49:40,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 13:49:40,507 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 13:49:40,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 13:49:40,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 13:49:40,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 13:49:40,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 13:49:40,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 13:49:40,525 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 13:49:40,530 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 13:49:40,547 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 13:49:40,673 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 13:49:41,476 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 13:49:42,309 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 13:49:42,798 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 13:49:42,903 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 13:49:42,975 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 13:49:44,467 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bcf6227, org.springframework.security.web.context.SecurityContextPersistenceFilter@9934831, org.springframework.security.web.header.HeaderWriterFilter@3b012aaf, org.springframework.security.web.authentication.logout.LogoutFilter@3a96e13d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2ba9e6ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@578fb0c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55c8b835, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22fb879e, org.springframework.security.web.session.SessionManagementFilter@6dea1634, org.springframework.security.web.access.ExceptionTranslationFilter@74f6605b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e3d2f47]
2020-12-28 13:49:44,499 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@16247d89, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c0de92d, org.springframework.security.web.context.SecurityContextPersistenceFilter@68672442, org.springframework.security.web.header.HeaderWriterFilter@4ddcb3c4, org.springframework.web.filter.CorsFilter@49d561e9, org.springframework.security.web.authentication.logout.LogoutFilter@7bc6607e, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@16bd7b25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@322aa30e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a40641c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418fb5b5, org.springframework.security.web.session.SessionManagementFilter@73686947, org.springframework.security.web.access.ExceptionTranslationFilter@1539e5cd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42e94769]
2020-12-28 13:49:44,508 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f8644bf, org.springframework.security.web.context.SecurityContextPersistenceFilter@77ce216b, org.springframework.security.web.header.HeaderWriterFilter@3a72b078, org.springframework.security.web.authentication.logout.LogoutFilter@4b4a7ed0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61a87dbe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e76f083, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a43bd03, org.springframework.security.web.session.SessionManagementFilter@598b4ef0, org.springframework.security.web.access.ExceptionTranslationFilter@14e0520e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b536bb0]
2020-12-28 13:49:44,681 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 13:49:44,722 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 13:49:44,726 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.68 seconds (JVM running for 13.55)
2020-12-28 13:51:11,616 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-28 13:51:11,617 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-12-28 13:51:11,633 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2020-12-28 13:51:12,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:51:12,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:51:12,392 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:51:12,402 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_USER
2020-12-28 13:51:12,403 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_ADMIN
2020-12-28 13:51:12,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:51:12,429 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2020-12-28 13:51:12,430 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2020-12-28 13:51:12,565 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-3] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$c2ffdb31.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 13:51:12,583 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-2] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$c2ffdb31.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 13:54:25,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:54:25,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:54:25,877 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_USER
2020-12-28 13:54:25,878 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_ADMIN
2020-12-28 13:54:25,982 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-7] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$c2ffdb31.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 13:55:39,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 13:55:39,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 13:55:39,792 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-10] Role:ROLE_USER
2020-12-28 13:55:39,793 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-10] Role:ROLE_ADMIN
2020-12-28 13:55:39,903 ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-10] Handling error: InternalAuthenticationServiceException, null
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:203)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NullPointerException: null
	at com.afl.restaurante.services.UsuarioService.loadUserByUsername(UsuarioService.java:67)
	at com.afl.restaurante.services.UsuarioService$$FastClassBySpringCGLIB$$74d63f3d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.afl.restaurante.services.UsuarioService$$EnhancerBySpringCGLIB$$c2ffdb31.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 88 common frames omitted
2020-12-28 15:26:04,407 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 22312 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 15:26:04,411 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 15:26:04,412 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 15:26:04,505 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 15:26:04,506 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 15:26:04,506 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 15:26:05,954 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 15:26:06,113 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 143ms. Found 6 JPA repository interfaces.
2020-12-28 15:26:06,952 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:07,012 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:07,021 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:07,026 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7edc4136' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:07,029 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:07,038 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:26:08,327 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 15:26:08,345 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 15:26:08,347 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 15:26:08,347 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 15:26:08,542 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 15:26:08,543 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4036 ms
2020-12-28 15:26:09,046 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 15:26:09,205 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 15:26:09,492 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 15:26:09,677 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 15:26:10,012 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 15:26:10,058 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 15:26:11,503 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 15:26:11,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 15:26:11,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 15:26:11,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 15:26:11,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 15:26:11,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 15:26:11,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 15:26:11,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 15:26:11,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 15:26:11,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 15:26:11,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 15:26:11,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 15:26:11,563 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 15:26:11,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 15:26:11,582 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 15:26:11,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 15:26:11,603 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 15:26:11,609 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 15:26:11,618 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 15:26:11,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 15:26:11,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 15:26:11,637 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 15:26:11,647 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 15:26:11,650 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 15:26:11,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 15:26:11,659 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 15:26:11,662 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 15:26:11,666 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 15:26:11,670 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 15:26:11,675 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 15:26:11,679 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 15:26:11,682 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 15:26:11,686 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 15:26:11,691 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 15:26:11,698 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 15:26:11,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 15:26:11,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 15:26:11,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 15:26:11,724 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 15:26:11,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 15:26:11,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 15:26:11,729 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 15:26:11,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', 'antonio', '627336511', true)
2020-12-28 15:26:11,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 15:26:11,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 15:26:11,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] */
2020-12-28 15:26:11,753 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "*/" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "*/" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «*/»
  Position: 1
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2020-12-28 15:26:11,757 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 15:26:11,768 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 15:26:11,797 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 15:26:12,506 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 15:26:13,260 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 15:26:13,847 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 15:26:13,942 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 15:26:14,009 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 15:26:15,288 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@692a880f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1be3f171, org.springframework.security.web.header.HeaderWriterFilter@6592044c, org.springframework.security.web.authentication.logout.LogoutFilter@48c67769, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62df6fdd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7136ac3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@511207a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21c0fe2e, org.springframework.security.web.session.SessionManagementFilter@3a360dd9, org.springframework.security.web.access.ExceptionTranslationFilter@16c2ee8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d8028f4]
2020-12-28 15:26:15,315 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@a42f5f1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d246244, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e7ac2fe, org.springframework.security.web.header.HeaderWriterFilter@5bb0a2c5, org.springframework.web.filter.CorsFilter@3c4afe6e, org.springframework.security.web.authentication.logout.LogoutFilter@33f49dd6, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1ea3e448, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11c7538f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f3f7df8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1515ade6, org.springframework.security.web.session.SessionManagementFilter@1072951c, org.springframework.security.web.access.ExceptionTranslationFilter@53756a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10a73a23]
2020-12-28 15:26:15,322 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32c976d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c5ea35c, org.springframework.security.web.header.HeaderWriterFilter@e667065, org.springframework.security.web.authentication.logout.LogoutFilter@3ae31159, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6166e782, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cbe5693, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b0e4ccb, org.springframework.security.web.session.SessionManagementFilter@37ab0a95, org.springframework.security.web.access.ExceptionTranslationFilter@1890a6ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23ecedf6]
2020-12-28 15:26:15,478 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 15:26:15,513 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 15:26:15,517 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.946 seconds (JVM running for 12.952)
2020-12-28 15:30:05,834 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 22128 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 15:30:05,839 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 15:30:05,841 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 15:30:05,966 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 15:30:05,967 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 15:30:05,967 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 15:30:07,416 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 15:30:07,578 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 147ms. Found 6 JPA repository interfaces.
2020-12-28 15:30:08,434 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:08,491 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:08,500 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:08,506 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@68dc9660' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:08,511 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:08,521 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:30:09,860 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 15:30:09,877 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 15:30:09,879 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 15:30:09,880 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 15:30:10,052 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 15:30:10,053 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4086 ms
2020-12-28 15:30:10,533 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 15:30:10,681 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 15:30:10,951 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 15:30:11,125 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 15:30:11,336 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 15:30:11,372 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 15:30:12,856 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 15:30:12,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 15:30:12,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 15:30:12,865 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 15:30:12,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 15:30:12,868 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 15:30:12,880 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 15:30:12,886 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 15:30:12,892 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 15:30:12,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 15:30:12,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 15:30:12,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 15:30:12,918 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 15:30:12,931 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 15:30:12,938 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 15:30:12,953 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 15:30:12,960 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 15:30:12,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 15:30:12,977 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 15:30:12,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 15:30:12,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 15:30:12,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 15:30:13,007 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 15:30:13,010 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 15:30:13,015 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 15:30:13,019 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 15:30:13,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 15:30:13,026 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 15:30:13,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 15:30:13,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 15:30:13,039 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 15:30:13,043 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 15:30:13,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 15:30:13,051 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 15:30:13,058 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 15:30:13,065 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 15:30:13,068 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 15:30:13,074 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 15:30:13,085 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 15:30:13,087 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 15:30:13,089 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 15:30:13,090 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 15:30:13,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, enabled, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '$2a$10$RmdEsvEfhI7Rcm9f/uZXPebZVCcPC7ZXZwV51efAvMAp1rIaRAfPK', true,  'antonio', '627336511', true)
2020-12-28 15:30:13,099 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 15:30:13,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 15:30:13,105 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 15:30:13,119 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 15:30:13,151 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 15:30:13,941 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 15:30:14,548 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 15:30:15,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 15:30:15,414 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 15:30:15,465 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 15:30:16,804 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59ceaddb, org.springframework.security.web.context.SecurityContextPersistenceFilter@63b04973, org.springframework.security.web.header.HeaderWriterFilter@7308bbec, org.springframework.security.web.authentication.logout.LogoutFilter@46ae5300, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@60fab67a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@237863fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b642e4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22ee713b, org.springframework.security.web.session.SessionManagementFilter@2dfdec67, org.springframework.security.web.access.ExceptionTranslationFilter@23daf4cd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68250daa]
2020-12-28 15:30:16,834 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@6ba1e5df, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e6892f4, org.springframework.security.web.context.SecurityContextPersistenceFilter@60a5758a, org.springframework.security.web.header.HeaderWriterFilter@7b82168c, org.springframework.web.filter.CorsFilter@6378872a, org.springframework.security.web.authentication.logout.LogoutFilter@1072951c, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@c187f3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6eea1b8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53756a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@744ca668, org.springframework.security.web.session.SessionManagementFilter@6ab68df6, org.springframework.security.web.access.ExceptionTranslationFilter@6bdca3a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@279606b3]
2020-12-28 15:30:16,850 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ae31159, org.springframework.security.web.context.SecurityContextPersistenceFilter@55cd9733, org.springframework.security.web.header.HeaderWriterFilter@6dd4ad2, org.springframework.security.web.authentication.logout.LogoutFilter@37ab0a95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74f7e93d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1890a6ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cefab70, org.springframework.security.web.session.SessionManagementFilter@6d0f7de9, org.springframework.security.web.access.ExceptionTranslationFilter@8e53fc8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33ae0033]
2020-12-28 15:30:17,015 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 15:30:17,054 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 15:30:17,058 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.129 seconds (JVM running for 13.068)
2020-12-28 15:31:17,157 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-28 15:31:17,157 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-12-28 15:31:17,173 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 15 ms
2020-12-28 15:31:18,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 15:31:18,058 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 15:31:18,070 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-1] Role:ROLE_USER
2020-12-28 15:31:18,070 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-1] Role:ROLE_ADMIN
2020-12-28 15:31:18,306 WARN org.springframework.security.oauth2.provider.endpoint.TokenEndpoint [http-nio-8080-exec-1] Handling error: InvalidGrantException, Bad credentials
2020-12-28 15:32:43,764 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 21452 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 15:32:43,770 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 15:32:43,771 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 15:32:43,861 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 15:32:43,861 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 15:32:43,862 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 15:32:45,532 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 15:32:45,750 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 187ms. Found 6 JPA repository interfaces.
2020-12-28 15:32:46,630 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:46,761 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:46,773 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:46,778 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70a2150b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:46,782 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:46,792 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 15:32:48,045 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 15:32:48,074 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 15:32:48,088 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 15:32:48,088 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 15:32:48,249 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 15:32:48,249 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4387 ms
2020-12-28 15:32:48,574 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 15:32:48,698 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 15:32:48,922 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 15:32:49,134 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 15:32:49,329 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 15:32:49,354 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 15:32:50,715 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 15:32:50,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 15:32:50,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 15:32:50,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 15:32:50,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 15:32:50,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 15:32:50,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 15:32:50,743 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 15:32:50,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 15:32:50,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 15:32:50,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 15:32:50,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 15:32:50,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 15:32:50,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 15:32:50,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 15:32:50,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 15:32:50,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 15:32:50,825 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 15:32:50,836 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 15:32:50,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 15:32:50,853 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 15:32:50,861 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 15:32:50,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 15:32:50,874 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 15:32:50,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 15:32:50,885 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 15:32:50,889 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 15:32:50,892 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 15:32:50,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 15:32:50,903 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 15:32:50,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 15:32:50,915 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 15:32:50,920 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 15:32:50,924 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 15:32:50,931 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 15:32:50,939 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 15:32:50,941 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 15:32:50,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 15:32:50,957 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 15:32:50,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 15:32:50,960 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 15:32:50,962 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 15:32:50,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, enabled, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', true,  'antonio', '627336511', true)
2020-12-28 15:32:50,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 15:32:50,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 15:32:50,977 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 15:32:50,989 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 15:32:51,019 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 15:32:51,861 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 15:32:52,508 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 15:32:53,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 15:32:53,343 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 15:32:53,422 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 15:32:54,828 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b628b91, org.springframework.security.web.context.SecurityContextPersistenceFilter@7698b65d, org.springframework.security.web.header.HeaderWriterFilter@61a1c618, org.springframework.security.web.authentication.logout.LogoutFilter@157576d7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3946097f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@641cd8cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4acae065, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4399340e, org.springframework.security.web.session.SessionManagementFilter@6d8bd809, org.springframework.security.web.access.ExceptionTranslationFilter@40d796e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dd206f5]
2020-12-28 15:32:54,857 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@49a945ca, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2243ae6e, org.springframework.security.web.context.SecurityContextPersistenceFilter@18f58246, org.springframework.security.web.header.HeaderWriterFilter@7aa6c9cf, org.springframework.web.filter.CorsFilter@1fc5ba9a, org.springframework.security.web.authentication.logout.LogoutFilter@7d4c942a, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@33d25e3f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d938c5b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1137de97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56e8a41b, org.springframework.security.web.session.SessionManagementFilter@71d524b8, org.springframework.security.web.access.ExceptionTranslationFilter@771656bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e28f980]
2020-12-28 15:32:54,872 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61aea88f, org.springframework.security.web.context.SecurityContextPersistenceFilter@255bc916, org.springframework.security.web.header.HeaderWriterFilter@569c7ef9, org.springframework.security.web.authentication.logout.LogoutFilter@525a3341, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ba33740, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3efdeb7b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44fca1f7, org.springframework.security.web.session.SessionManagementFilter@459a5854, org.springframework.security.web.access.ExceptionTranslationFilter@bf4b441, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@298c282c]
2020-12-28 15:32:55,082 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 15:32:55,167 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 15:32:55,177 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.3 seconds (JVM running for 13.137)
2020-12-28 15:33:06,520 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-28 15:33:06,520 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-12-28 15:33:06,535 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-12-28 15:33:07,064 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 15:33:07,099 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 15:33:07,109 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2020-12-28 15:33:07,110 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2020-12-28 15:33:07,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 23:30:49,883 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 14940 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2020-12-28 23:30:49,889 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2020-12-28 23:30:49,890 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2020-12-28 23:30:50,012 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2020-12-28 23:30:50,013 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-12-28 23:30:50,014 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-12-28 23:30:51,739 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-28 23:30:51,928 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 169ms. Found 6 JPA repository interfaces.
2020-12-28 23:30:52,847 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:52,909 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:52,916 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:52,919 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3d326afd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:52,922 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:52,931 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-28 23:30:54,326 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2020-12-28 23:30:54,361 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2020-12-28 23:30:54,363 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2020-12-28 23:30:54,364 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2020-12-28 23:30:54,587 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2020-12-28 23:30:54,588 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4573 ms
2020-12-28 23:30:54,990 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-28 23:30:55,177 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2020-12-28 23:30:55,514 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-28 23:30:55,761 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2020-12-28 23:30:55,968 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2020-12-28 23:30:56,010 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-28 23:30:57,500 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2020-12-28 23:30:57,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2020-12-28 23:30:57,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2020-12-28 23:30:57,517 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2020-12-28 23:30:57,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2020-12-28 23:30:57,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2020-12-28 23:30:57,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2020-12-28 23:30:57,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2020-12-28 23:30:57,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2020-12-28 23:30:57,559 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2020-12-28 23:30:57,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2020-12-28 23:30:57,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2020-12-28 23:30:57,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2020-12-28 23:30:57,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2020-12-28 23:30:57,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2020-12-28 23:30:57,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2020-12-28 23:30:57,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, direccion varchar(60), email varchar(60), nombre varchar(60) not null, telefono varchar(11), url varchar(60), primary key (id))
2020-12-28 23:30:57,639 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2020-12-28 23:30:57,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2020-12-28 23:30:57,664 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2020-12-28 23:30:57,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2020-12-28 23:30:57,674 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2020-12-28 23:30:57,685 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2020-12-28 23:30:57,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2020-12-28 23:30:57,694 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2020-12-28 23:30:57,698 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2020-12-28 23:30:57,703 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2020-12-28 23:30:57,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2020-12-28 23:30:57,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2020-12-28 23:30:57,717 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2020-12-28 23:30:57,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2020-12-28 23:30:57,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2020-12-28 23:30:57,730 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2020-12-28 23:30:57,734 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2020-12-28 23:30:57,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2020-12-28 23:30:57,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2020-12-28 23:30:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2020-12-28 23:30:57,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2020-12-28 23:30:57,771 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2020-12-28 23:30:57,773 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2020-12-28 23:30:57,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2020-12-28 23:30:57,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, url, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2020-12-28 23:30:57,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, enabled, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', true,  'antonio', '627336511', true)
2020-12-28 23:30:57,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2020-12-28 23:30:57,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2020-12-28 23:30:57,794 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-28 23:30:57,809 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-28 23:30:57,902 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2020-12-28 23:30:58,663 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-28 23:30:59,463 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2020-12-28 23:31:00,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_2_0_, empresa0_.direccion as direccio2_2_0_, empresa0_.email as email3_2_0_, empresa0_.nombre as nombre4_2_0_, empresa0_.telefono as telefono5_2_0_, empresa0_.url as url6_2_0_ from empresa empresa0_ where empresa0_.id=?
2020-12-28 23:31:00,256 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-12-28 23:31:00,406 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-28 23:31:01,929 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d8028f4, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c31589, org.springframework.security.web.header.HeaderWriterFilter@26bef303, org.springframework.security.web.authentication.logout.LogoutFilter@35d95816, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e625fd4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c00893, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26ad7150, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57c5e514, org.springframework.security.web.session.SessionManagementFilter@64688128, org.springframework.security.web.access.ExceptionTranslationFilter@43bbc6c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e907a58]
2020-12-28 23:31:01,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@49b85f4e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11cf66c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@da8b15d, org.springframework.security.web.header.HeaderWriterFilter@59ceaddb, org.springframework.web.filter.CorsFilter@5f3ac4fc, org.springframework.security.web.authentication.logout.LogoutFilter@21c0fe2e, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@699f41d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@149086b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@389c518e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@388f1def, org.springframework.security.web.session.SessionManagementFilter@22ee713b, org.springframework.security.web.access.ExceptionTranslationFilter@62df6fdd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ad1b064]
2020-12-28 23:31:01,968 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8e53fc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba1e5df, org.springframework.security.web.header.HeaderWriterFilter@3830b3a0, org.springframework.security.web.authentication.logout.LogoutFilter@10a73a23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e6892f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6378872a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dd4ad2, org.springframework.security.web.session.SessionManagementFilter@279606b3, org.springframework.security.web.access.ExceptionTranslationFilter@678a4ed9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1515ade6]
2020-12-28 23:31:02,269 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2020-12-28 23:31:02,355 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2020-12-28 23:31:02,359 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 13.417 seconds (JVM running for 14.765)
2020-12-28 23:31:12,017 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-28 23:31:12,019 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-12-28 23:31:12,032 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 13 ms
2020-12-28 23:31:12,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
2020-12-28 23:31:12,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select roles0_.usuario_id as usuario_1_8_0_, roles0_.role_id as role_id2_8_0_, role1_.id as id1_6_1_, role1_.nombre as nombre2_6_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2020-12-28 23:31:12,628 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-1] Role:ROLE_USER
2020-12-28 23:31:12,629 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-1] Role:ROLE_ADMIN
2020-12-28 23:31:12,981 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select usuario0_.id as id1_7_, usuario0_.acepta_emails as acepta_e2_7_, usuario0_.apellidos as apellido3_7_, usuario0_.cod_activacion as cod_acti4_7_, usuario0_.cod_cambio_passw as cod_camb5_7_, usuario0_.email as email6_7_, usuario0_.enabled as enabled7_7_, usuario0_.esperando_cambio_passw as esperand8_7_, usuario0_.fecha_activado as fecha_ac9_7_, usuario0_.fecha_registro as fecha_r10_7_, usuario0_.fecha_sol_cambio_passw as fecha_s11_7_, usuario0_.finalizada_activacion as finaliz12_7_, usuario0_.nombre as nombre13_7_, usuario0_.password as passwor14_7_, usuario0_.telefono as telefon15_7_, usuario0_.username as usernam16_7_ from usuarios usuario0_ where usuario0_.username=?
