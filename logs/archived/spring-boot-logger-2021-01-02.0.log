2021-01-02 00:20:33,209 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 21452 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 00:20:33,224 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 00:20:33,225 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 00:20:33,374 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 00:20:33,375 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 00:20:33,376 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 00:20:35,228 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 00:20:35,449 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 203ms. Found 7 JPA repository interfaces.
2021-01-02 00:20:36,662 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:36,723 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:36,730 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:36,734 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@56e0940d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:36,737 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:36,750 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:20:39,172 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 00:20:39,203 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 00:20:39,204 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 00:20:39,205 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 00:20:39,446 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 00:20:39,447 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6070 ms
2021-01-02 00:20:39,854 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 00:20:40,159 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 00:20:41,118 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 00:20:41,556 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 00:20:41,818 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 00:20:41,902 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 00:20:44,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 00:20:44,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 00:20:44,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 00:20:44,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 00:20:44,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 00:20:44,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 00:20:44,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 00:20:44,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 00:20:44,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 00:20:44,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 00:20:44,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 00:20:44,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 00:20:44,838 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 00:20:44,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 00:20:44,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 00:20:44,885 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 00:20:44,910 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 00:20:44,922 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 00:20:44,932 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 00:20:44,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 00:20:44,959 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 00:20:44,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 00:20:44,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 00:20:44,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 00:20:45,014 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 00:20:45,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 00:20:45,029 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 00:20:45,049 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 00:20:45,062 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 00:20:45,067 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 00:20:45,071 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 00:20:45,082 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 00:20:45,087 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 00:20:45,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 00:20:45,097 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 00:20:45,103 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 00:20:45,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 00:20:45,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 00:20:45,138 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 00:20:45,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 00:20:45,202 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 00:20:45,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 00:20:45,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 00:20:45,210 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, urlWeb, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2021-01-02 00:20:45,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, enabled, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', true,  'antonio', '627336511', true)
2021-01-02 00:20:45,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 00:20:45,242 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 00:20:45,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa', 'empresa.png', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:20:45,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Clasificación de platos', 'tipos.png', 'Apartado para crear los diferentes tipos de platos, como por ejemplo, carnes, pescados, veganos, ...', 'tipos')
2021-01-02 00:20:45,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Diseño página de entrada', 'home.png', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:20:45,251 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa4', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:20:45,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa5', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:20:45,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa6', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:20:45,258 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 00:20:45,277 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 00:20:45,306 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 00:20:46,072 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 00:20:47,152 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 00:20:48,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:20:48,340 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 00:20:48,410 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 00:20:49,953 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6763ebfe, org.springframework.security.web.context.SecurityContextPersistenceFilter@45606e6, org.springframework.security.web.header.HeaderWriterFilter@23d248db, org.springframework.security.web.authentication.logout.LogoutFilter@41911584, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8842cc5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@585f1f50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a265756, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@759f6b15, org.springframework.security.web.session.SessionManagementFilter@101ab897, org.springframework.security.web.access.ExceptionTranslationFilter@ef84c5d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4dcec6db]
2021-01-02 00:20:49,991 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@74bbba4c, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fe50ed3, org.springframework.security.web.context.SecurityContextPersistenceFilter@403b6740, org.springframework.security.web.header.HeaderWriterFilter@3008974e, org.springframework.web.filter.CorsFilter@7a4bc77, org.springframework.security.web.authentication.logout.LogoutFilter@38a9b45, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@455a9d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e71e77a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a37b71d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@449a26c7, org.springframework.security.web.session.SessionManagementFilter@c59d78c, org.springframework.security.web.access.ExceptionTranslationFilter@6f002491, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4480ffa3]
2021-01-02 00:20:49,997 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ba8b84, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c690634, org.springframework.security.web.header.HeaderWriterFilter@4c83df68, org.springframework.security.web.authentication.logout.LogoutFilter@3f86a141, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5101b4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ab5917, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4245df4, org.springframework.security.web.session.SessionManagementFilter@22595212, org.springframework.security.web.access.ExceptionTranslationFilter@7ac6ec7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9e7c4e0]
2021-01-02 00:20:50,186 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 00:20:50,233 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 00:20:50,237 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 18.069 seconds (JVM running for 19.466)
2021-01-02 00:20:50,503 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 00:20:50,505 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 00:20:50,522 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 17 ms
2021-01-02 00:22:57,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:23:11,952 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 00:23:11,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 00:23:12,000 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2021-01-02 00:23:12,001 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2021-01-02 00:23:12,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 00:23:15,962 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 00:23:16,029 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 00:23:16,029 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 00:23:16,034 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 00:23:16,090 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg
2021-01-02 00:23:16,092 ERROR com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] Error, no se pudo cargar la imagen C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg se sustituye por imagen anónima
2021-01-02 00:24:11,629 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:24:50,923 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:24:50,994 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] update empresa set descripcion_breve=?, direccion=?, email=?, horario=?, nombre=?, provincia=?, telefono=?, urlweb=? where id=?
2021-01-02 00:25:48,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:25:48,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] update empresa set descripcion_breve=?, direccion=?, email=?, horario=?, nombre=?, provincia=?, telefono=?, urlweb=? where id=?
2021-01-02 00:28:34,825 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:28:34,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] update empresa set descripcion_breve=?, direccion=?, email=?, horario=?, nombre=?, provincia=?, telefono=?, urlweb=? where id=?
2021-01-02 00:28:38,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 00:28:38,257 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-2] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 00:28:38,263 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-1] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 00:28:38,272 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-3] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 00:28:38,307 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-4] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg
2021-01-02 00:28:38,308 ERROR com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-4] Error, no se pudo cargar la imagen C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg se sustituye por imagen anónima
2021-01-02 00:28:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:30:34,504 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:30:34,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] update empresa set descripcion_breve=?, direccion=?, email=?, horario=?, nombre=?, provincia=?, telefono=?, urlweb=? where id=?
2021-01-02 00:30:49,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:32:46,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 00:32:46,492 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 00:32:46,496 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-2] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg
2021-01-02 00:32:46,499 ERROR com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-2] Error, no se pudo cargar la imagen C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg se sustituye por imagen anónima
2021-01-02 00:32:46,499 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 00:32:46,498 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 00:43:01,887 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:43:05,961 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:44:04,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:44:06,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:47:25,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:47:27,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:47:29,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:47:35,077 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 00:47:35,201 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 00:47:35,211 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 00:47:35,213 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-2] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 00:47:35,218 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg
2021-01-02 00:47:35,222 ERROR com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] Error, no se pudo cargar la imagen C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg se sustituye por imagen anónima
2021-01-02 00:48:09,135 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 29104 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 00:48:09,141 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 00:48:09,142 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 00:48:09,250 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 00:48:09,251 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 00:48:09,251 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 00:48:11,208 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 00:48:11,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 228ms. Found 7 JPA repository interfaces.
2021-01-02 00:48:12,609 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:12,687 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:12,694 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:12,698 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3a57b2f5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:12,706 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:12,721 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 00:48:14,333 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 00:48:14,354 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 00:48:14,356 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 00:48:14,356 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 00:48:14,589 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 00:48:14,590 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5338 ms
2021-01-02 00:48:15,192 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 00:48:15,381 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 00:48:15,673 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 00:48:15,904 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 00:48:16,183 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 00:48:16,214 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 00:48:18,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 00:48:18,084 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 00:48:18,087 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 00:48:18,089 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 00:48:18,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 00:48:18,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 00:48:18,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 00:48:18,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 00:48:18,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 00:48:18,137 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 00:48:18,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 00:48:18,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 00:48:18,167 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 00:48:18,176 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 00:48:18,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 00:48:18,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 00:48:18,221 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 00:48:18,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 00:48:18,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 00:48:18,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 00:48:18,302 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 00:48:18,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 00:48:18,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 00:48:18,330 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 00:48:18,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 00:48:18,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 00:48:18,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 00:48:18,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 00:48:18,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 00:48:18,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 00:48:18,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 00:48:18,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 00:48:18,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 00:48:18,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 00:48:18,441 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 00:48:18,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 00:48:18,469 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 00:48:18,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 00:48:18,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 00:48:18,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 00:48:18,521 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 00:48:18,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 00:48:18,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 00:48:18,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa (nombre, direccion, telefono, urlWeb, email) VALUES('Cazuela Cortubí', 'C/Cazuela Cortubí 22, (Madrid)', '627336511','http://localhost:4200', 'info@fernandezLucena.es')
2021-01-02 00:48:18,535 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios(username, password, enabled, nombre, telefono, finalizada_activacion) VALUES ('antonio63j@hotmail.com', '12345', true,  'antonio', '627336511', true)
2021-01-02 00:48:18,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 00:48:18,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 00:48:18,547 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa', 'empresa.png', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:48:18,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Diseño página de entrada', 'home.png', 'Desde aquí se podrá cambiar las imagenes y la presentación de la pagina de entrada', 'admhome')
2021-01-02 00:48:18,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Clasificación de platos', 'tipos.png', 'Apartado para crear los diferentes tipos de platos, como por ejemplo, carnes, pescados, veganos, ...', 'tipos')
2021-01-02 00:48:18,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Diseño página de entrada', 'home.png', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:48:18,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa4', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:48:18,560 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa5', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:48:18,562 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex (cabecera, imagen, body, route) VALUES ('Datos de la empresa6', 'imagen.jpg', 'En este apartado podemos cambiar los datos de la empresa, como por ejemplo dirección, teléfono, ..', 'empresa')
2021-01-02 00:48:18,566 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 00:48:18,589 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 00:48:18,624 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 00:48:19,347 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 00:48:20,277 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 00:48:20,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:48:21,107 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 00:48:21,179 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 00:48:22,889 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45806791, org.springframework.security.web.context.SecurityContextPersistenceFilter@37d0dede, org.springframework.security.web.header.HeaderWriterFilter@6756ea9b, org.springframework.security.web.authentication.logout.LogoutFilter@4c6239b2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2b89bfe5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15acb993, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b81f328, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11e9ecc4, org.springframework.security.web.session.SessionManagementFilter@1282c7d3, org.springframework.security.web.access.ExceptionTranslationFilter@34774156, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61c828e2]
2021-01-02 00:48:22,924 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7aa16fd, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f750a2e, org.springframework.security.web.context.SecurityContextPersistenceFilter@6dab097d, org.springframework.security.web.header.HeaderWriterFilter@10f95773, org.springframework.web.filter.CorsFilter@68f1a16e, org.springframework.security.web.authentication.logout.LogoutFilter@73fded0b, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5d350582, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4560d9a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f784cb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@470286d, org.springframework.security.web.session.SessionManagementFilter@3f5ccaad, org.springframework.security.web.access.ExceptionTranslationFilter@951ed4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7aa2d9e4]
2021-01-02 00:48:22,930 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c0e937, org.springframework.security.web.context.SecurityContextPersistenceFilter@19cbd20d, org.springframework.security.web.header.HeaderWriterFilter@1ddab18b, org.springframework.security.web.authentication.logout.LogoutFilter@643a40fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49adda28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1336c7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35dbf89e, org.springframework.security.web.session.SessionManagementFilter@1f87a619, org.springframework.security.web.access.ExceptionTranslationFilter@299f3521, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b92b22]
2021-01-02 00:48:23,119 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 00:48:23,168 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 00:48:23,171 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 15.014 seconds (JVM running for 16.099)
2021-01-02 00:48:24,306 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 00:48:24,306 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 00:48:24,322 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 15 ms
2021-01-02 00:49:24,056 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 00:49:34,661 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 00:49:34,710 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 00:49:34,725 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2021-01-02 00:49:34,726 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2021-01-02 00:49:35,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 00:49:38,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 00:49:39,022 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 00:49:39,091 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 00:49:39,091 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 00:49:39,100 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg
2021-01-02 00:49:39,103 ERROR com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] Error, no se pudo cargar la imagen C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\imagen.jpg se sustituye por imagen anónima
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             2021-01-02 14:41:09,963 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 13648 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 14:41:09,979 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 14:41:09,979 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 14:41:10,166 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 14:41:10,166 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 14:41:10,166 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 14:41:12,182 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 14:41:12,370 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 168ms. Found 7 JPA repository interfaces.
2021-01-02 14:41:13,261 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:13,349 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:13,349 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:13,349 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@49ad43ec' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:13,349 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:13,364 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 14:41:14,755 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 14:41:14,780 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 14:41:14,780 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 14:41:14,780 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 14:41:15,061 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 14:41:15,061 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4895 ms
2021-01-02 14:41:15,530 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 14:41:15,733 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 14:41:16,264 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 14:41:16,808 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 14:41:17,135 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 14:41:17,175 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 14:41:19,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 14:41:19,222 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 14:41:19,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 14:41:19,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 14:41:19,228 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 14:41:19,230 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 14:41:19,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 14:41:19,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 14:41:19,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 14:41:19,267 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 14:41:19,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 14:41:19,285 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 14:41:19,288 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 14:41:19,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 14:41:19,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 14:41:19,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 14:41:19,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 14:41:19,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 14:41:19,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 14:41:19,393 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 14:41:19,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 14:41:19,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 14:41:19,429 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 14:41:19,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 14:41:19,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 14:41:19,474 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 14:41:19,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 14:41:19,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 14:41:19,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 14:41:19,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 14:41:19,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 14:41:19,533 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 14:41:19,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 14:41:19,542 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 14:41:19,547 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 14:41:19,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 14:41:19,559 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 14:41:19,563 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 14:41:19,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 14:41:19,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 14:41:19,580 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 14:41:19,584 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 14:41:19,599 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 14:41:19,887 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 14:41:21,491 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 14:41:23,288 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 14:41:24,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 14:41:24,624 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioControlerMvc': Unsatisfied dependency expressed through field 'empresaStore'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2021-01-02 14:41:24,627 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 14:41:24,628 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [restartedMain] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-01-02 14:41:24,629 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 14:41:24,632 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 14:41:24,636 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 14:41:24,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 14:41:24,641 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 14:41:24,643 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 14:41:24,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 14:41:24,666 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 14:41:24,673 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 14:41:24,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 14:41:24,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 14:41:24,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 14:41:24,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 14:41:24,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 14:41:24,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 14:41:24,747 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2021-01-02 14:41:24,797 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2021-01-02 14:41:24,801 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2021-01-02 14:41:24,829 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-02 14:41:25,587 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioControlerMvc': Unsatisfied dependency expressed through field 'empresaStore'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1695)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1292)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	... 24 common frames omitted
2021-01-02 15:16:01,194 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 3812 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:16:01,201 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:16:01,202 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:16:01,315 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:16:01,316 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:16:01,317 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:16:02,857 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:16:03,224 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 344ms. Found 7 JPA repository interfaces.
2021-01-02 15:16:04,452 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:04,530 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:04,536 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:04,541 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35dd2231' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:04,545 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:04,555 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:16:05,883 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:16:05,910 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:16:05,912 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:16:05,912 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:16:06,120 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:16:06,120 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4802 ms
2021-01-02 15:16:06,492 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:16:06,631 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:16:06,942 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:16:07,184 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:16:07,500 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:16:07,528 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:16:09,011 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:16:09,022 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:16:09,023 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:16:09,024 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:16:09,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:16:09,027 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:16:09,028 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:16:09,029 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:16:09,030 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:16:09,031 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:16:09,032 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:16:09,035 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,035 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «adminindex» no existe, omitiendo
2021-01-02 15:16:09,036 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:16:09,037 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,037 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2021-01-02 15:16:09,038 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:16:09,039 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,039 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2021-01-02 15:16:09,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:16:09,041 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,041 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2021-01-02 15:16:09,042 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:16:09,043 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,043 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2021-01-02 15:16:09,044 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:16:09,044 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,045 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2021-01-02 15:16:09,045 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:16:09,046 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,046 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2021-01-02 15:16:09,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:16:09,047 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,048 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2021-01-02 15:16:09,048 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:16:09,049 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,049 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2021-01-02 15:16:09,050 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:16:09,051 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:16:09,051 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2021-01-02 15:16:09,056 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:16:09,082 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:16:09,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:16:09,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:16:09,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:16:09,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:16:09,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:16:09,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:16:09,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:16:09,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:16:09,187 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:16:09,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:16:09,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:16:09,203 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:16:09,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:16:09,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:16:09,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:16:09,223 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:16:09,227 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:16:09,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:16:09,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:16:09,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:16:09,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:16:09,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:16:09,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:16:09,264 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:16:09,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')
2021-01-02 15:16:09,271 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: INSERT tiene más columnas de destino que expresiones
  Position: 71
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:16:09,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:16:09,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:16:09,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:16:09,280 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:16:09,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:16:09,283 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:16:09,285 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:16:09,293 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:16:09,323 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:16:10,077 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:16:10,904 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:16:11,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:16:11,518 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioControlerMvc': Unsatisfied dependency expressed through field 'empresaStore'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2021-01-02 15:16:11,522 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:16:11,523 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [restartedMain] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-01-02 15:16:11,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:16:11,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:16:11,529 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:16:11,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:16:11,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:16:11,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:16:11,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:16:11,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:16:11,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:16:11,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:16:11,602 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:16:11,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:16:11,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:16:11,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:16:11,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:16:11,667 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2021-01-02 15:16:11,684 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2021-01-02 15:16:11,687 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2021-01-02 15:16:11,708 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-02 15:16:12,075 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioControlerMvc': Unsatisfied dependency expressed through field 'empresaStore'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.afl.restaurante.entities.Empresa' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1695)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1292)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	... 24 common frames omitted
2021-01-02 15:22:52,314 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 3420 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:22:52,319 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:22:52,320 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:22:52,438 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:22:52,439 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:22:52,440 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:22:54,015 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:22:54,264 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 227ms. Found 7 JPA repository interfaces.
2021-01-02 15:22:55,102 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:55,176 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:55,184 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:55,189 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@647bdf1c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:55,196 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:55,206 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:22:56,498 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:22:56,521 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:22:56,523 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:22:56,524 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:22:56,723 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:22:56,726 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4286 ms
2021-01-02 15:22:57,124 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:22:57,278 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:22:57,525 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:22:57,678 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:22:57,926 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:22:57,972 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:22:59,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:22:59,565 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:22:59,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:22:59,567 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:22:59,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:22:59,569 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:22:59,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:22:59,571 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:22:59,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:22:59,573 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 15:22:59,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:22:59,576 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,577 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «adminindex» no existe, omitiendo
2021-01-02 15:22:59,577 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:22:59,578 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,578 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2021-01-02 15:22:59,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:22:59,579 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,579 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2021-01-02 15:22:59,580 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:22:59,580 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,581 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2021-01-02 15:22:59,581 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:22:59,582 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,583 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2021-01-02 15:22:59,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:22:59,584 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,584 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2021-01-02 15:22:59,584 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:22:59,585 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,585 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2021-01-02 15:22:59,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:22:59,586 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,586 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2021-01-02 15:22:59,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:22:59,587 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,588 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2021-01-02 15:22:59,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:22:59,589 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 15:22:59,589 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2021-01-02 15:22:59,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:22:59,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:22:59,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:22:59,630 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:22:59,641 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:22:59,651 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:22:59,661 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:22:59,665 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:22:59,674 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:22:59,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:22:59,691 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:22:59,695 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:22:59,700 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:22:59,704 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:22:59,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:22:59,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:22:59,724 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:22:59,728 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:22:59,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:22:59,737 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:22:59,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:22:59,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:22:59,752 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:22:59,755 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:22:59,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:22:59,766 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:22:59,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')
2021-01-02 15:22:59,771 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','antonio63j@hotmail.com')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: INSERT tiene más columnas de destino que expresiones
  Position: 71
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:22:59,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:22:59,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:22:59,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:22:59,779 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:22:59,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:22:59,781 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:22:59,783 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:22:59,791 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:22:59,842 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:23:00,499 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:23:01,437 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:23:01,950 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:23:02,038 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 15:23:02,108 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 15:23:03,419 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68352244, org.springframework.security.web.context.SecurityContextPersistenceFilter@a265756, org.springframework.security.web.header.HeaderWriterFilter@9c1655d, org.springframework.security.web.authentication.logout.LogoutFilter@6b03aa94, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6763ebfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14764c87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b3f13ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49ed1380, org.springframework.security.web.session.SessionManagementFilter@114f0731, org.springframework.security.web.access.ExceptionTranslationFilter@74fe122f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7abf0410]
2021-01-02 15:23:03,482 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@680bcf12, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d3270ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@45892277, org.springframework.security.web.header.HeaderWriterFilter@38a9b45, org.springframework.web.filter.CorsFilter@44bf5623, org.springframework.security.web.authentication.logout.LogoutFilter@2c1b26e5, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@48c8d924, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5af53758, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d72cff0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ac6ec7d, org.springframework.security.web.session.SessionManagementFilter@2261f679, org.springframework.security.web.access.ExceptionTranslationFilter@1810fe60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a6e852c]
2021-01-02 15:23:03,506 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5506217f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ac73b5c, org.springframework.security.web.header.HeaderWriterFilter@3f86a141, org.springframework.security.web.authentication.logout.LogoutFilter@4245df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361e164, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9e7c4e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bc3a1d, org.springframework.security.web.session.SessionManagementFilter@637db5c5, org.springframework.security.web.access.ExceptionTranslationFilter@6b0a42b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4aed82a9]
2021-01-02 15:23:03,672 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 15:23:03,710 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 15:23:03,712 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.168 seconds (JVM running for 13.107)
2021-01-02 15:26:17,439 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 1968 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:26:17,446 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:26:17,447 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:26:17,567 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:26:17,568 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:26:17,568 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:26:19,044 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:26:19,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 276ms. Found 7 JPA repository interfaces.
2021-01-02 15:26:20,157 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:20,236 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:20,249 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:20,255 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@156a8d31' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:20,259 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:20,279 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:26:21,541 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:26:21,562 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:26:21,564 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:26:21,564 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:26:21,756 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:26:21,758 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4189 ms
2021-01-02 15:26:22,282 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:26:22,496 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:26:22,750 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:26:22,990 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:26:23,206 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:26:23,241 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:26:24,642 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:26:24,647 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:26:24,649 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:26:24,650 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:26:24,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:26:24,653 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:26:24,664 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:26:24,673 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:26:24,678 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:26:24,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:26:24,697 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:26:24,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:26:24,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:26:24,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:26:24,731 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:26:24,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:26:24,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:26:24,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:26:24,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:26:24,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:26:24,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:26:24,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:26:24,816 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:26:24,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:26:24,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:26:24,839 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:26:24,843 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:26:24,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:26:24,853 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:26:24,858 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:26:24,863 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:26:24,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:26:24,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:26:24,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:26:24,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:26:24,886 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:26:24,894 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:26:24,898 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:26:24,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:26:24,905 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:26:24,914 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:26:24,914 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 15:26:24,925 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','fernandez','antonio63j@hotmail.com')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios (username, password, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345',true, 'Antonio','fernandez','antonio63j@hotmail.com')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: el valor null para la columna «finalizada_activacion» viola la restricción not null
  Detail: La fila que falla contiene (1, null, fernandez, null, null, antonio63j@hotmail.com, t, null, null, null, null, null, Antonio, 12345, null, antonio63j@hotmail.com).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:26:24,926 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:26:24,928 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:26:24,929 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:26:24,933 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:26:24,934 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:26:24,936 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:26:24,939 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:26:24,954 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:26:24,984 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:26:25,603 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:26:26,364 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:26:26,983 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:26:27,073 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 15:26:27,131 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 15:26:28,415 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@745e7625, org.springframework.security.web.context.SecurityContextPersistenceFilter@32730fe, org.springframework.security.web.header.HeaderWriterFilter@5d588428, org.springframework.security.web.authentication.logout.LogoutFilter@501e222, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cefc893, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f156665, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80e3c2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69bb4d55, org.springframework.security.web.session.SessionManagementFilter@1060bda3, org.springframework.security.web.access.ExceptionTranslationFilter@6cfeffc1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@521b69ff]
2021-01-02 15:26:28,441 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@6b00acc7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79d56622, org.springframework.security.web.context.SecurityContextPersistenceFilter@54a4c90a, org.springframework.security.web.header.HeaderWriterFilter@1d435f08, org.springframework.web.filter.CorsFilter@74955a0d, org.springframework.security.web.authentication.logout.LogoutFilter@581f2b0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7275e083, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cd7f8f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6b5b7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a9d5f60, org.springframework.security.web.session.SessionManagementFilter@641515ad, org.springframework.security.web.access.ExceptionTranslationFilter@2299504e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@142b4da2]
2021-01-02 15:26:28,450 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a3c7280, org.springframework.security.web.context.SecurityContextPersistenceFilter@76436918, org.springframework.security.web.header.HeaderWriterFilter@7490928f, org.springframework.security.web.authentication.logout.LogoutFilter@3c70d7ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59713a3c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2985df77, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c11e494, org.springframework.security.web.session.SessionManagementFilter@f5ee6a7, org.springframework.security.web.access.ExceptionTranslationFilter@6e1820ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3383a0b7]
2021-01-02 15:26:28,605 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 15:26:28,642 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 15:26:28,646 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.075 seconds (JVM running for 13.026)
2021-01-02 15:30:13,996 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 1948 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:30:14,003 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:30:14,005 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:30:14,123 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:30:14,124 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:30:14,124 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:30:15,699 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:30:15,918 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 200ms. Found 7 JPA repository interfaces.
2021-01-02 15:30:16,851 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:16,912 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:16,921 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:16,926 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6ec05eae' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:16,930 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:16,941 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:30:18,467 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:30:18,494 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:30:18,496 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:30:18,496 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:30:18,698 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:30:18,699 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4574 ms
2021-01-02 15:30:19,246 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:30:19,417 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:30:20,018 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:30:20,394 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:30:20,626 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:30:20,656 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:30:22,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:30:22,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:30:22,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:30:22,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:30:22,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:30:22,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:30:22,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:30:22,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:30:22,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:30:22,600 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:30:22,614 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:30:22,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:30:22,634 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:30:22,646 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:30:22,670 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:30:22,684 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:30:22,717 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:30:22,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:30:22,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:30:22,765 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:30:22,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:30:22,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:30:22,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:30:22,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:30:22,826 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:30:22,830 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:30:22,838 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:30:22,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:30:22,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:30:22,855 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:30:22,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:30:22,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:30:22,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:30:22,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:30:22,883 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:30:22,888 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:30:22,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:30:22,905 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:30:22,909 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:30:22,915 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:30:22,926 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:30:22,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 15:30:22,943 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios (username, password, finalizada_activacion, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios (username, password, finalizada_activacion, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: INSERT tiene más expresiones que columnas de destino
  Position: 168
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:30:22,944 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:30:22,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:30:22,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:30:22,955 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:30:22,956 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:30:22,958 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: inserción o actualización en la tabla «usuarios_roles» viola la llave foránea «fkqcxu02bqipxpr7cjyj9dmhwec»
  Detail: La llave (usuario_id)=(1) no está presente en la tabla «usuarios».
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 15:30:22,962 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:30:22,989 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:30:23,101 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:30:24,909 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:30:25,883 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:30:26,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:30:26,872 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 15:30:27,019 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 15:30:29,629 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47e112bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@745e7625, org.springframework.security.web.header.HeaderWriterFilter@2c4e5c98, org.springframework.security.web.authentication.logout.LogoutFilter@2d758a65, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1d5c1743, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7956157d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cc67df1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b75ef18, org.springframework.security.web.session.SessionManagementFilter@707c0027, org.springframework.security.web.access.ExceptionTranslationFilter@3aeb0c74, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3229c064]
2021-01-02 15:30:29,732 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@371b99b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31381538, org.springframework.security.web.context.SecurityContextPersistenceFilter@58b8555d, org.springframework.security.web.header.HeaderWriterFilter@5415ba60, org.springframework.web.filter.CorsFilter@38183b69, org.springframework.security.web.authentication.logout.LogoutFilter@7490928f, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1d81145b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@88e6775, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71b11abe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a7cb395, org.springframework.security.web.session.SessionManagementFilter@6a322b6, org.springframework.security.web.access.ExceptionTranslationFilter@3a9d5f60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bcd3976]
2021-01-02 15:30:29,739 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a1f8844, org.springframework.security.web.context.SecurityContextPersistenceFilter@47ef38ef, org.springframework.security.web.header.HeaderWriterFilter@6038a02d, org.springframework.security.web.authentication.logout.LogoutFilter@624c804f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73584b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a975ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29b0272d, org.springframework.security.web.session.SessionManagementFilter@5035c70b, org.springframework.security.web.access.ExceptionTranslationFilter@10aa1615, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d18b55c]
2021-01-02 15:30:30,101 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 15:30:30,158 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 15:30:30,167 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 16.98 seconds (JVM running for 17.842)
2021-01-02 15:33:03,045 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 14280 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:33:03,051 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:33:03,055 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:33:03,209 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:33:03,210 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:33:03,210 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:33:04,802 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:33:05,045 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 225ms. Found 7 JPA repository interfaces.
2021-01-02 15:33:05,923 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:05,982 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:05,995 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:06,001 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@367b6489' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:06,003 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:06,012 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:33:07,301 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:33:07,317 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:33:07,319 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:33:07,319 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:33:07,523 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:33:07,523 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4312 ms
2021-01-02 15:33:07,940 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:33:08,110 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:33:08,346 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:33:08,527 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:33:08,715 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:33:08,757 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:33:10,330 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:33:10,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:33:10,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:33:10,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:33:10,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:33:10,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:33:10,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:33:10,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:33:10,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:33:10,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:33:10,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:33:10,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:33:10,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:33:10,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:33:10,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:33:10,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:33:10,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:33:10,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:33:10,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:33:10,482 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:33:10,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:33:10,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:33:10,506 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:33:10,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:33:10,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:33:10,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:33:10,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:33:10,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:33:10,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:33:10,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:33:10,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:33:10,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:33:10,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:33:10,560 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:33:10,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:33:10,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:33:10,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:33:10,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:33:10,581 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:33:10,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:33:10,594 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:33:10,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 15:33:10,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:33:10,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:33:10,602 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:33:10,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:33:10,607 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:33:10,617 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:33:10,646 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:33:11,476 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:33:12,191 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:33:12,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:33:12,850 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 15:33:12,901 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 15:33:14,113 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d08dcc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a951244, org.springframework.security.web.header.HeaderWriterFilter@12978d05, org.springframework.security.web.authentication.logout.LogoutFilter@71047738, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23d161ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3729c7e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2866ced9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@394717b2, org.springframework.security.web.session.SessionManagementFilter@3a549ece, org.springframework.security.web.access.ExceptionTranslationFilter@5f01bfd2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11268a3f]
2021-01-02 15:33:14,151 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@32ff41bf, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7db91920, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c3bf0d3, org.springframework.security.web.header.HeaderWriterFilter@1f0a5bb, org.springframework.web.filter.CorsFilter@49e41206, org.springframework.security.web.authentication.logout.LogoutFilter@2ec9ecd, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7f9de3f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28d85a94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c01ff49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75c92e3e, org.springframework.security.web.session.SessionManagementFilter@6d4017ca, org.springframework.security.web.access.ExceptionTranslationFilter@20a28ebe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d302420]
2021-01-02 15:33:14,166 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@709ed7f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@145ec3f6, org.springframework.security.web.header.HeaderWriterFilter@78018bd7, org.springframework.security.web.authentication.logout.LogoutFilter@7157ce2f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51c0c9df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25ebbf03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777fc2, org.springframework.security.web.session.SessionManagementFilter@5c4d5c96, org.springframework.security.web.access.ExceptionTranslationFilter@4380cb61, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25ba859b]
2021-01-02 15:33:14,368 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 15:33:14,404 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 15:33:14,407 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.226 seconds (JVM running for 13.094)
2021-01-02 15:33:25,578 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 15:33:25,578 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 15:33:25,606 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 27 ms
2021-01-02 15:33:25,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:33:46,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 15:33:46,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 15:33:46,562 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_USER
2021-01-02 15:33:46,562 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_ADMIN
2021-01-02 15:33:46,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 15:33:52,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 15:34:17,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:34:17,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 15:34:25,385 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:34:32,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 15:34:54,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:35:01,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 15:48:01,017 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 11612 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 15:48:01,022 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 15:48:01,023 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 15:48:01,124 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 15:48:01,125 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 15:48:01,125 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 15:48:02,684 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 15:48:02,925 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 222ms. Found 7 JPA repository interfaces.
2021-01-02 15:48:03,826 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:03,875 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:03,884 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:03,889 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3ebc8ba0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:03,895 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:03,907 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 15:48:05,202 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 15:48:05,240 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 15:48:05,242 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 15:48:05,242 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 15:48:05,420 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 15:48:05,421 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4295 ms
2021-01-02 15:48:05,796 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 15:48:05,938 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 15:48:06,202 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 15:48:06,417 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 15:48:06,626 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 15:48:06,658 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 15:48:08,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 15:48:08,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 15:48:08,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 15:48:08,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 15:48:08,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 15:48:08,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 15:48:08,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 15:48:08,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 15:48:08,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 15:48:08,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 15:48:08,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 15:48:08,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 15:48:08,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 15:48:08,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 15:48:08,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 15:48:08,220 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 15:48:08,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 15:48:08,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 15:48:08,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 15:48:08,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 15:48:08,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 15:48:08,293 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 15:48:08,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 15:48:08,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 15:48:08,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 15:48:08,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 15:48:08,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 15:48:08,329 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 15:48:08,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 15:48:08,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 15:48:08,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 15:48:08,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 15:48:08,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 15:48:08,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 15:48:08,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 15:48:08,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 15:48:08,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 15:48:08,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 15:48:08,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 15:48:08,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 15:48:08,397 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 15:48:08,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 15:48:08,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 15:48:08,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 15:48:08,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 15:48:08,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 15:48:08,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 15:48:08,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 15:48:08,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 15:48:08,422 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 15:48:08,438 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 15:48:08,472 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 15:48:09,127 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 15:48:09,886 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 15:48:10,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:48:10,470 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 15:48:10,526 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 15:48:11,851 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42e1f26e, org.springframework.security.web.context.SecurityContextPersistenceFilter@11cf66c7, org.springframework.security.web.header.HeaderWriterFilter@7b03c552, org.springframework.security.web.authentication.logout.LogoutFilter@1890a6ab, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@15acb993, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@388f1def, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1061fb1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74e9b1af, org.springframework.security.web.session.SessionManagementFilter@6ad1b064, org.springframework.security.web.access.ExceptionTranslationFilter@2301502d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e9a4a7b]
2021-01-02 15:48:11,881 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@1f784cb2, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4628f452, org.springframework.security.web.context.SecurityContextPersistenceFilter@6029bb63, org.springframework.security.web.header.HeaderWriterFilter@767c6b48, org.springframework.web.filter.CorsFilter@73fded0b, org.springframework.security.web.authentication.logout.LogoutFilter@61bd61fe, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5bf9cba9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77b6c0d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6285c343, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3093971f, org.springframework.security.web.session.SessionManagementFilter@b5cf9e, org.springframework.security.web.access.ExceptionTranslationFilter@3b2874f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4560d9a2]
2021-01-02 15:48:11,890 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1efb1936, org.springframework.security.web.context.SecurityContextPersistenceFilter@31b10b65, org.springframework.security.web.header.HeaderWriterFilter@7e44b71c, org.springframework.security.web.authentication.logout.LogoutFilter@530c3903, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4924e61e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12034471, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d350582, org.springframework.security.web.session.SessionManagementFilter@14dd8f30, org.springframework.security.web.access.ExceptionTranslationFilter@21f5e4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@128a177c]
2021-01-02 15:48:12,049 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 15:48:12,086 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 15:48:12,090 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.897 seconds (JVM running for 12.791)
2021-01-02 15:48:21,989 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 15:48:21,990 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 15:48:22,051 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 60 ms
2021-01-02 15:48:59,866 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 15:48:59,926 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 15:48:59,942 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-4] Role:ROLE_USER
2021-01-02 15:48:59,951 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-4] Role:ROLE_ADMIN
2021-01-02 15:49:00,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 15:49:03,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 15:49:03,564 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 15:49:03,565 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 15:49:03,566 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 15:49:10,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:58:30,062 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 15:58:30,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:04:05,188 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2021-01-02 16:09:37,036 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 5460 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 16:09:37,041 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 16:09:37,042 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 16:09:37,137 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 16:09:37,137 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 16:09:37,138 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 16:09:38,779 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 16:09:39,011 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 212ms. Found 7 JPA repository interfaces.
2021-01-02 16:09:39,874 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:39,932 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:39,942 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:39,949 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@bb97df7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:39,954 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:39,963 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:09:41,333 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 16:09:41,354 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 16:09:41,355 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 16:09:41,356 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 16:09:41,578 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 16:09:41,580 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4442 ms
2021-01-02 16:09:41,965 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 16:09:42,092 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 16:09:42,392 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 16:09:42,601 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 16:09:42,847 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 16:09:42,890 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 16:09:44,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 16:09:44,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 16:09:44,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 16:09:44,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 16:09:44,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 16:09:44,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 16:09:44,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 16:09:44,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 16:09:44,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 16:09:44,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 16:09:44,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 16:09:44,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 16:09:44,602 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 16:09:44,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 16:09:44,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 16:09:44,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 16:09:44,647 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 16:09:44,658 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 16:09:44,666 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 16:09:44,677 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 16:09:44,688 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 16:09:44,700 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 16:09:44,703 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 16:09:44,710 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 16:09:44,721 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 16:09:44,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 16:09:44,730 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 16:09:44,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 16:09:44,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 16:09:44,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 16:09:44,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 16:09:44,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 16:09:44,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 16:09:44,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 16:09:44,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 16:09:44,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 16:09:44,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 16:09:44,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 16:09:44,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 16:09:44,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 16:09:44,796 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 16:09:44,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 16:09:44,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 16:09:44,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 16:09:44,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 16:09:44,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 16:09:44,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 16:09:44,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 16:09:44,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 16:09:44,817 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 16:09:44,832 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 16:09:44,884 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 16:09:45,646 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 16:09:46,375 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 16:09:46,887 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:09:46,982 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 16:09:47,081 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 16:09:48,344 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2985df77, org.springframework.security.web.context.SecurityContextPersistenceFilter@6687a664, org.springframework.security.web.header.HeaderWriterFilter@1d435f08, org.springframework.security.web.authentication.logout.LogoutFilter@260e4b69, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71b11abe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fa71e51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c71113f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51167f3e, org.springframework.security.web.session.SessionManagementFilter@67c38984, org.springframework.security.web.access.ExceptionTranslationFilter@670af174, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f03b895]
2021-01-02 16:09:48,375 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@29b0272d, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27f5894, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d4d0ec4, org.springframework.security.web.header.HeaderWriterFilter@37292053, org.springframework.web.filter.CorsFilter@6a25bfd2, org.springframework.security.web.authentication.logout.LogoutFilter@382363f0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4a048039, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63549bda, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d81145b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cde577a, org.springframework.security.web.session.SessionManagementFilter@54d88c88, org.springframework.security.web.access.ExceptionTranslationFilter@44ef591e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a1f8844]
2021-01-02 16:09:48,388 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37a8e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c403f37, org.springframework.security.web.header.HeaderWriterFilter@5ddfe12d, org.springframework.security.web.authentication.logout.LogoutFilter@779dd8d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@764631b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@543270d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54dadf08, org.springframework.security.web.session.SessionManagementFilter@66d31cd4, org.springframework.security.web.access.ExceptionTranslationFilter@725a133, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b25fa68]
2021-01-02 16:09:48,545 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 16:09:48,582 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 16:09:48,586 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.329 seconds (JVM running for 13.384)
2021-01-02 16:10:18,888 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 16:10:18,889 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 16:10:18,904 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 14 ms
2021-01-02 16:11:06,535 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:11:06,620 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 16:11:06,631 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_USER
2021-01-02 16:11:06,632 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_ADMIN
2021-01-02 16:11:06,811 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:11:07,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:11:55,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:12:36,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:12:36,165 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] SQL Error: 0, SQLState: 23505
2021-01-02 16:12:36,166 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] ERROR: llave duplicada viola restricción de unicidad «uk_2fqlxbcs4h827hio1qam0dhd3»
  Detail: Ya existe la llave (nombre)=(Cortubí).
2021-01-02 16:15:44,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:15:44,099 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:15:44,099 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:15:44,099 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:15:46,093 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:18:18,529 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:18:33,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:18:33,838 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:18:33,843 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:18:33,849 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:18:35,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:18:43,940 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:18:43,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] update empresa set descripcion_breve=?, direccion=?, email=?, horario=?, nombre=?, provincia=?, telefono=?, urlweb=? where id=?
2021-01-02 16:19:23,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:19:23,914 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:19:23,916 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:19:23,915 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:32:54,179 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 12488 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 16:32:54,185 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 16:32:54,186 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 16:32:54,291 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 16:32:54,291 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 16:32:54,292 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 16:32:55,850 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 16:32:56,148 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 276ms. Found 7 JPA repository interfaces.
2021-01-02 16:32:56,983 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:57,097 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:57,109 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:57,117 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d51823e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:57,122 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:57,131 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:32:58,399 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 16:32:58,420 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 16:32:58,421 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 16:32:58,421 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 16:32:58,603 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 16:32:58,604 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4311 ms
2021-01-02 16:32:58,974 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 16:32:59,118 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 16:32:59,475 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 16:32:59,620 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 16:32:59,826 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 16:32:59,855 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 16:33:01,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 16:33:01,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 16:33:01,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 16:33:01,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 16:33:01,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 16:33:01,494 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 16:33:01,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 16:33:01,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 16:33:01,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 16:33:01,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 16:33:01,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 16:33:01,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 16:33:01,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 16:33:01,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 16:33:01,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 16:33:01,582 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 16:33:01,603 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 16:33:01,615 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 16:33:01,625 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 16:33:01,639 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 16:33:01,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 16:33:01,666 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 16:33:01,669 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 16:33:01,677 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 16:33:01,689 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 16:33:01,692 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 16:33:01,697 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 16:33:01,702 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 16:33:01,706 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 16:33:01,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 16:33:01,715 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 16:33:01,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 16:33:01,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 16:33:01,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 16:33:01,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 16:33:01,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 16:33:01,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 16:33:01,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 16:33:01,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 16:33:01,765 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 16:33:01,775 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 16:33:01,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 16:33:01,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 16:33:01,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 16:33:01,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 16:33:01,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 16:33:01,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 16:33:01,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 16:33:01,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 16:33:01,797 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 16:33:01,809 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 16:33:01,840 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 16:33:02,512 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 16:33:03,315 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 16:33:03,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:33:04,026 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 16:33:04,121 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 16:33:05,414 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38b2409e, org.springframework.security.web.context.SecurityContextPersistenceFilter@733038, org.springframework.security.web.header.HeaderWriterFilter@7afaa6c3, org.springframework.security.web.authentication.logout.LogoutFilter@30bdeeb0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ada53d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4db19800, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2452ffb4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19420b7e, org.springframework.security.web.session.SessionManagementFilter@597f5aec, org.springframework.security.web.access.ExceptionTranslationFilter@79488ce1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6be756fe]
2021-01-02 16:33:05,444 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@5af56a23, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35fc404, org.springframework.security.web.context.SecurityContextPersistenceFilter@427c8925, org.springframework.security.web.header.HeaderWriterFilter@5fe07df1, org.springframework.web.filter.CorsFilter@38b32ce7, org.springframework.security.web.authentication.logout.LogoutFilter@7c2b1f24, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5b0aaf84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47942099, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bc7c26f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42cbc392, org.springframework.security.web.session.SessionManagementFilter@5582979f, org.springframework.security.web.access.ExceptionTranslationFilter@44c824af, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b963299]
2021-01-02 16:33:05,458 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aa1e11d, org.springframework.security.web.context.SecurityContextPersistenceFilter@75521c2b, org.springframework.security.web.header.HeaderWriterFilter@3f209109, org.springframework.security.web.authentication.logout.LogoutFilter@7c7d7a4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42df237f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@794c4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f78724, org.springframework.security.web.session.SessionManagementFilter@5a674c10, org.springframework.security.web.access.ExceptionTranslationFilter@1a25a3f5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e244bd3]
2021-01-02 16:33:05,661 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 16:33:05,699 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 16:33:05,703 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.397 seconds (JVM running for 13.441)
2021-01-02 16:33:23,661 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 16:33:23,662 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2021-01-02 16:33:23,691 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 28 ms
2021-01-02 16:33:41,580 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:33:41,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 16:33:41,637 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-4] Role:ROLE_USER
2021-01-02 16:33:41,638 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-4] Role:ROLE_ADMIN
2021-01-02 16:33:41,643 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:33:41,656 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 16:33:41,664 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2021-01-02 16:33:41,665 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2021-01-02 16:33:41,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:33:41,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:33:49,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:33:49,302 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:33:49,302 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:33:49,302 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:33:51,934 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:34:46,185 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:38:04,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:38:05,060 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:38:17,079 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 9148 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 16:38:17,084 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 16:38:17,085 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 16:38:17,175 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 16:38:17,176 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 16:38:17,176 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 16:38:18,875 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 16:38:19,077 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 182ms. Found 7 JPA repository interfaces.
2021-01-02 16:38:19,932 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:19,989 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:19,998 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:20,005 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7ac7b71b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:20,010 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:20,018 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:38:21,301 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 16:38:21,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 16:38:21,325 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 16:38:21,326 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 16:38:21,515 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 16:38:21,516 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4339 ms
2021-01-02 16:38:21,923 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 16:38:22,059 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 16:38:22,296 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 16:38:22,482 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 16:38:22,661 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 16:38:22,722 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 16:38:24,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 16:38:24,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 16:38:24,175 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 16:38:24,176 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 16:38:24,177 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 16:38:24,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 16:38:24,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 16:38:24,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 16:38:24,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 16:38:24,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 16:38:24,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 16:38:24,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 16:38:24,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 16:38:24,247 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 16:38:24,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 16:38:24,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 16:38:24,285 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 16:38:24,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 16:38:24,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 16:38:24,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 16:38:24,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 16:38:24,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 16:38:24,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 16:38:24,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 16:38:24,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 16:38:24,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 16:38:24,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 16:38:24,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 16:38:24,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 16:38:24,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 16:38:24,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 16:38:24,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 16:38:24,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 16:38:24,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 16:38:24,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 16:38:24,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 16:38:24,418 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 16:38:24,423 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 16:38:24,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 16:38:24,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 16:38:24,438 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 16:38:24,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 16:38:24,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 16:38:24,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 16:38:24,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 16:38:24,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 16:38:24,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 16:38:24,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 16:38:24,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 16:38:24,459 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 16:38:24,472 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 16:38:24,504 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 16:38:25,379 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 16:38:26,125 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 16:38:26,751 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:38:26,928 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 16:38:27,044 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 16:38:28,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32344176, org.springframework.security.web.context.SecurityContextPersistenceFilter@20a0caef, org.springframework.security.web.header.HeaderWriterFilter@7bc7b88b, org.springframework.security.web.authentication.logout.LogoutFilter@990c3a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@17592e7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6632d657, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28356cde, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d9b367c, org.springframework.security.web.session.SessionManagementFilter@3a3dd2bb, org.springframework.security.web.access.ExceptionTranslationFilter@6faef318, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@243fe17d]
2021-01-02 16:38:28,341 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7995e5a4, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@87a158e, org.springframework.security.web.context.SecurityContextPersistenceFilter@134cdd6, org.springframework.security.web.header.HeaderWriterFilter@56314793, org.springframework.web.filter.CorsFilter@59ba94ba, org.springframework.security.web.authentication.logout.LogoutFilter@79c70801, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4541c5a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bfa9784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57ab44b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c2cb1b7, org.springframework.security.web.session.SessionManagementFilter@79ce0add, org.springframework.security.web.access.ExceptionTranslationFilter@34b7de7a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f694547]
2021-01-02 16:38:28,359 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aae162b, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ea36768, org.springframework.security.web.header.HeaderWriterFilter@35224622, org.springframework.security.web.authentication.logout.LogoutFilter@64dc3433, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@163339bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31076e0e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28c1a97d, org.springframework.security.web.session.SessionManagementFilter@675ef913, org.springframework.security.web.access.ExceptionTranslationFilter@4b70650d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@497ebbbe]
2021-01-02 16:38:28,579 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 16:38:28,611 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 16:38:28,614 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.526 seconds (JVM running for 13.527)
2021-01-02 16:38:44,376 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 16:38:44,376 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 16:38:44,389 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2021-01-02 16:39:11,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:39:11,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 16:39:11,559 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2021-01-02 16:39:11,560 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2021-01-02 16:39:11,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:39:12,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:39:12,395 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:39:12,394 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:39:12,394 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:39:14,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:39:31,187 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:39:36,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:39:36,988 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-4] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:39:36,998 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:39:37,014 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:39:49,997 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:40:19,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:44:01,805 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 6288 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 16:44:01,812 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 16:44:01,813 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 16:44:01,939 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 16:44:01,939 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 16:44:01,939 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 16:44:03,507 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 16:44:03,709 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 182ms. Found 7 JPA repository interfaces.
2021-01-02 16:44:04,774 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:04,851 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:04,859 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:04,866 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1031cffe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:04,869 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:04,879 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 16:44:06,252 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 16:44:06,275 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 16:44:06,277 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 16:44:06,277 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 16:44:06,507 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 16:44:06,508 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4568 ms
2021-01-02 16:44:06,921 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 16:44:07,059 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 16:44:07,314 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 16:44:07,474 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 16:44:07,666 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 16:44:07,692 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 16:44:09,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 16:44:09,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 16:44:09,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 16:44:09,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 16:44:09,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 16:44:09,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 16:44:09,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 16:44:09,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 16:44:09,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 16:44:09,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 16:44:09,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 16:44:09,418 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 16:44:09,422 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 16:44:09,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 16:44:09,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 16:44:09,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 16:44:09,466 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 16:44:09,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 16:44:09,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 16:44:09,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 16:44:09,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 16:44:09,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 16:44:09,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 16:44:09,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 16:44:09,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 16:44:09,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 16:44:09,547 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 16:44:09,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 16:44:09,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 16:44:09,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 16:44:09,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 16:44:09,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 16:44:09,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 16:44:09,579 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 16:44:09,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 16:44:09,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 16:44:09,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 16:44:09,600 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 16:44:09,603 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 16:44:09,608 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 16:44:09,616 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 16:44:09,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 16:44:09,620 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 16:44:09,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 16:44:09,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 16:44:09,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 16:44:09,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 16:44:09,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 16:44:09,633 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 16:44:09,637 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 16:44:09,654 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 16:44:09,690 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 16:44:10,439 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 16:44:11,133 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 16:44:11,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:44:11,822 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 16:44:11,874 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 16:44:13,227 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a177bc0, org.springframework.security.web.context.SecurityContextPersistenceFilter@21a08b00, org.springframework.security.web.header.HeaderWriterFilter@2cb8f508, org.springframework.security.web.authentication.logout.LogoutFilter@3825e61a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48ba475b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59a7a6c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@731f524, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@178e51f4, org.springframework.security.web.session.SessionManagementFilter@643b5341, org.springframework.security.web.access.ExceptionTranslationFilter@3e652f38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@213a2901]
2021-01-02 16:44:13,262 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@52c2b8a7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e27e55e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4412665d, org.springframework.security.web.header.HeaderWriterFilter@6a053e34, org.springframework.web.filter.CorsFilter@509333e4, org.springframework.security.web.authentication.logout.LogoutFilter@67675315, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@74725038, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@afc255e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49cb4eab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c64aaa8, org.springframework.security.web.session.SessionManagementFilter@5bd45ed8, org.springframework.security.web.access.ExceptionTranslationFilter@137bbb6a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4eaa4826]
2021-01-02 16:44:13,271 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33fb0341, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a345633, org.springframework.security.web.header.HeaderWriterFilter@14a76e9, org.springframework.security.web.authentication.logout.LogoutFilter@2ccd45c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@180a50ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aa59078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775ec12d, org.springframework.security.web.session.SessionManagementFilter@64ff4e89, org.springframework.security.web.access.ExceptionTranslationFilter@4b7121aa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12ac60dc]
2021-01-02 16:44:13,494 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 16:44:13,526 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 16:44:13,530 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.759 seconds (JVM running for 13.94)
2021-01-02 16:44:37,343 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 16:44:37,344 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 16:44:37,363 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 19 ms
2021-01-02 16:45:14,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:45:14,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 16:45:14,851 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2021-01-02 16:45:14,852 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2021-01-02 16:45:15,029 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 16:45:19,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:45:19,652 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:45:19,657 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:45:19,664 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:45:21,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:45:54,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:46:15,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 16:46:15,597 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 16:46:15,599 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-4] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 16:46:15,624 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 16:46:17,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:46:35,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 16:47:00,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as col_0_0_ from usuarios usuario0_ where usuario0_.username=? limit ?
2021-01-02 16:47:00,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] insert into usuarios (acepta_emails, apellidos, cod_activacion, cod_cambio_passw, email, enabled, esperando_cambio_passw, fecha_activado, fecha_registro, fecha_sol_cambio_passw, finalizada_activacion, nombre, password, telefono, username) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 16:47:00,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 16:47:00,902 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 16:48:33,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.cod_activacion=?
2021-01-02 16:48:33,465 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] update usuarios set acepta_emails=?, apellidos=?, cod_activacion=?, cod_cambio_passw=?, email=?, enabled=?, esperando_cambio_passw=?, fecha_activado=?, fecha_registro=?, fecha_sol_cambio_passw=?, finalizada_activacion=?, nombre=?, password=?, telefono=?, username=? where id=?
2021-01-02 16:48:33,471 DEBUG com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-4] [usuario activadoo, ok]
2021-01-02 16:48:33,565 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-9] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 16:48:44,094 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-1] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 16:49:45,769 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-6] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 16:53:11,623 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-9] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 17:41:01,710 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 4012 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 17:41:01,715 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 17:41:01,716 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 17:41:01,911 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 17:41:01,912 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 17:41:01,913 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 17:41:03,699 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 17:41:03,920 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 201ms. Found 7 JPA repository interfaces.
2021-01-02 17:41:04,772 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:04,826 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:04,832 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:04,835 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1e52b6a9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:04,838 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:04,849 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:41:06,235 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 17:41:06,257 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 17:41:06,258 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 17:41:06,258 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 17:41:06,437 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 17:41:06,439 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4526 ms
2021-01-02 17:41:06,831 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 17:41:06,989 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 17:41:07,225 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 17:41:07,419 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 17:41:07,629 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 17:41:07,665 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 17:41:09,085 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 17:41:09,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 17:41:09,093 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 17:41:09,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 17:41:09,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 17:41:09,097 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 17:41:09,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 17:41:09,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 17:41:09,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 17:41:09,133 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 17:41:09,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 17:41:09,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 17:41:09,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 17:41:09,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 17:41:09,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 17:41:09,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 17:41:09,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 17:41:09,210 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 17:41:09,220 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 17:41:09,234 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 17:41:09,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 17:41:09,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 17:41:09,259 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 17:41:09,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 17:41:09,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 17:41:09,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 17:41:09,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 17:41:09,289 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 17:41:09,293 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 17:41:09,297 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 17:41:09,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 17:41:09,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 17:41:09,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 17:41:09,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 17:41:09,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 17:41:09,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 17:41:09,329 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 17:41:09,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 17:41:09,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 17:41:09,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 17:41:09,349 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 17:41:09,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 17:41:09,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 17:41:09,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 17:41:09,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 17:41:09,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 17:41:09,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 17:41:09,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 17:41:09,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 17:41:09,371 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 17:41:09,384 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 17:41:09,416 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 17:41:10,187 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 17:41:10,891 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 17:41:11,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:41:11,578 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 17:41:11,626 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 17:41:12,845 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b167f30, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d9c9808, org.springframework.security.web.header.HeaderWriterFilter@659702a3, org.springframework.security.web.authentication.logout.LogoutFilter@54470939, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2bd6bfb5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bd351e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7820f38, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12b20a1b, org.springframework.security.web.session.SessionManagementFilter@52fda08e, org.springframework.security.web.access.ExceptionTranslationFilter@3402f589, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@276f8dc9]
2021-01-02 17:41:12,881 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4f27f8d1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b061973, org.springframework.security.web.context.SecurityContextPersistenceFilter@76812f1c, org.springframework.security.web.header.HeaderWriterFilter@61b4574, org.springframework.web.filter.CorsFilter@474d1801, org.springframework.security.web.authentication.logout.LogoutFilter@39b84e6a, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2d136a95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57c1193a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b2dd653, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dbb82d4, org.springframework.security.web.session.SessionManagementFilter@76577121, org.springframework.security.web.access.ExceptionTranslationFilter@44ecb1bf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2bcc2e02]
2021-01-02 17:41:12,888 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f99cb10, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a7fc5e9, org.springframework.security.web.header.HeaderWriterFilter@e24b663, org.springframework.security.web.authentication.logout.LogoutFilter@196e06c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2096179a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@baa2a45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c92414c, org.springframework.security.web.session.SessionManagementFilter@4b857d7, org.springframework.security.web.access.ExceptionTranslationFilter@31476498, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21263ee5]
2021-01-02 17:41:13,054 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 17:41:13,092 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 17:41:13,097 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.422 seconds (JVM running for 13.494)
2021-01-02 17:41:32,751 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 17:41:32,751 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 17:41:32,789 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 36 ms
2021-01-02 17:41:33,021 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:41:42,913 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 17:41:42,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 17:41:42,955 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_USER
2021-01-02 17:41:42,956 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_ADMIN
2021-01-02 17:41:43,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 17:41:47,816 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 17:41:47,885 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 17:41:47,885 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 17:41:47,885 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 17:41:49,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:42:26,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] insert into empresa (descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 17:43:07,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as col_0_0_ from usuarios usuario0_ where usuario0_.username=? limit ?
2021-01-02 17:43:07,845 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] insert into usuarios (acepta_emails, apellidos, cod_activacion, cod_cambio_passw, email, enabled, esperando_cambio_passw, fecha_activado, fecha_registro, fecha_sol_cambio_passw, finalizada_activacion, nombre, password, telefono, username) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 17:43:07,869 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 17:43:07,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 17:43:38,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.cod_activacion=?
2021-01-02 17:43:38,061 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] update usuarios set acepta_emails=?, apellidos=?, cod_activacion=?, cod_cambio_passw=?, email=?, enabled=?, esperando_cambio_passw=?, fecha_activado=?, fecha_registro=?, fecha_sol_cambio_passw=?, finalizada_activacion=?, nombre=?, password=?, telefono=?, username=? where id=?
2021-01-02 17:43:38,066 DEBUG com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-8] [usuario activadoo, ok]
2021-01-02 17:43:38,199 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-9] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 17:43:42,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:44:58,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 17:44:58,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 17:44:58,793 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_USER
2021-01-02 17:44:58,794 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_ADMIN
2021-01-02 17:44:58,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 17:45:02,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 17:45:02,402 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 17:45:02,415 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 17:45:02,421 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-1] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 17:45:03,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:55:44,392 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 5672 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 17:55:44,397 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 17:55:44,399 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 17:55:44,591 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 17:55:44,592 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 17:55:44,592 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 17:55:46,164 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 17:55:46,385 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 201ms. Found 7 JPA repository interfaces.
2021-01-02 17:55:47,231 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:47,299 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:47,307 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:47,313 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@aff5270' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:47,315 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:47,323 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:55:48,605 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 17:55:48,627 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 17:55:48,629 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 17:55:48,630 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 17:55:48,839 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 17:55:48,840 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4247 ms
2021-01-02 17:55:49,191 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 17:55:49,394 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 17:55:49,685 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 17:55:49,863 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 17:55:50,166 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 17:55:50,231 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 17:55:51,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 17:55:51,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 17:55:51,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 17:55:51,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 17:55:51,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 17:55:51,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 17:55:51,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 17:55:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 17:55:51,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 17:55:51,799 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 17:55:51,809 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 17:55:51,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 17:55:51,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 17:55:51,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 17:55:51,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 17:55:51,853 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 17:55:51,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 17:55:51,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 17:55:51,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 17:55:51,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 17:55:51,913 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 17:55:51,926 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 17:55:51,930 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 17:55:51,938 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 17:55:51,951 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 17:55:51,954 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 17:55:51,959 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 17:55:51,965 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 17:55:51,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 17:55:51,974 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 17:55:51,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 17:55:51,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 17:55:51,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 17:55:51,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 17:55:51,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 17:55:52,004 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 17:55:52,010 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 17:55:52,015 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 17:55:52,017 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 17:55:52,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 17:55:52,029 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 17:55:52,030 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 17:55:52,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 17:55:52,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 17:55:52,036 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 17:55:52,039 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 17:55:52,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 17:55:52,044 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 17:55:52,045 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 17:55:52,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb)
2021-01-02 17:55:52,059 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: error de sintaxis al final de la entrada
  Position: 103
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-02 17:55:52,060 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Antonio', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-02 17:55:52,064 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 17:55:52,073 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 17:55:52,108 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 17:55:52,738 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 17:55:53,511 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 17:55:54,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:55:54,308 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 17:55:54,367 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 17:55:55,732 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d72f19, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e24894e, org.springframework.security.web.header.HeaderWriterFilter@6d8f808a, org.springframework.security.web.authentication.logout.LogoutFilter@2547542a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ba0ee7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d57733d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22979326, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53a8010b, org.springframework.security.web.session.SessionManagementFilter@1e755cad, org.springframework.security.web.access.ExceptionTranslationFilter@59f2002f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21e5ade9]
2021-01-02 17:55:55,762 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@72e545e6, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7491b8c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@57a04a30, org.springframework.security.web.header.HeaderWriterFilter@5e9ecec7, org.springframework.web.filter.CorsFilter@795d5e64, org.springframework.security.web.authentication.logout.LogoutFilter@7129f0c1, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4bae7275, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3145c76d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1985df74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29903624, org.springframework.security.web.session.SessionManagementFilter@260366c8, org.springframework.security.web.access.ExceptionTranslationFilter@55e66cad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f89e281]
2021-01-02 17:55:55,769 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2da5b6c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@540d3662, org.springframework.security.web.header.HeaderWriterFilter@2bd34d91, org.springframework.security.web.authentication.logout.LogoutFilter@6916b8b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@791c4961, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48923c16, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c6e2af0, org.springframework.security.web.session.SessionManagementFilter@5cf81c63, org.springframework.security.web.access.ExceptionTranslationFilter@3db211cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a456b25]
2021-01-02 17:55:55,941 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 17:55:55,989 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 17:55:55,992 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.589 seconds (JVM running for 13.82)
2021-01-02 17:57:09,202 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 14484 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 17:57:09,207 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 17:57:09,208 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 17:57:09,294 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 17:57:09,295 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 17:57:09,296 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 17:57:10,803 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 17:57:10,995 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 175ms. Found 7 JPA repository interfaces.
2021-01-02 17:57:11,859 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:11,910 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:11,920 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:11,928 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@39eab962' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:11,934 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:11,945 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:57:13,214 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 17:57:13,243 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 17:57:13,244 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 17:57:13,245 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 17:57:13,452 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 17:57:13,453 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4157 ms
2021-01-02 17:57:13,805 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 17:57:14,001 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 17:57:14,259 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 17:57:14,450 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 17:57:14,694 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 17:57:14,728 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 17:57:16,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 17:57:16,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 17:57:16,466 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 17:57:16,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 17:57:16,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 17:57:16,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 17:57:16,482 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 17:57:16,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 17:57:16,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 17:57:16,504 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 17:57:16,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 17:57:16,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 17:57:16,529 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 17:57:16,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 17:57:16,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 17:57:16,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 17:57:16,577 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 17:57:16,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 17:57:16,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 17:57:16,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 17:57:16,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 17:57:16,635 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 17:57:16,639 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 17:57:16,647 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 17:57:16,662 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 17:57:16,665 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 17:57:16,672 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 17:57:16,677 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 17:57:16,682 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 17:57:16,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 17:57:16,691 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 17:57:16,695 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 17:57:16,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 17:57:16,703 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 17:57:16,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 17:57:16,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 17:57:16,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 17:57:16,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 17:57:16,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 17:57:16,730 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 17:57:16,738 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 17:57:16,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 17:57:16,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 17:57:16,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 17:57:16,745 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 17:57:16,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 17:57:16,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 17:57:16,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 17:57:16,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 17:57:16,755 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Antonio', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-02 17:57:16,762 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 17:57:16,775 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 17:57:16,808 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 17:57:17,518 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 17:57:18,214 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 17:57:18,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:57:18,902 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 17:57:18,958 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 17:57:20,118 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ff8b858, org.springframework.security.web.context.SecurityContextPersistenceFilter@4636b3b3, org.springframework.security.web.header.HeaderWriterFilter@25ee7374, org.springframework.security.web.authentication.logout.LogoutFilter@57f3d519, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ca04f7c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a630c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4773774, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12a2467c, org.springframework.security.web.session.SessionManagementFilter@5a35df65, org.springframework.security.web.access.ExceptionTranslationFilter@c317b4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79cbb539]
2021-01-02 17:57:20,147 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@303b9ff4, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bd7729a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c440401, org.springframework.security.web.header.HeaderWriterFilter@159f8b9a, org.springframework.web.filter.CorsFilter@14d35479, org.springframework.security.web.authentication.logout.LogoutFilter@4c2c4357, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2aaaf30f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31b4c592, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@589e4b65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@766049, org.springframework.security.web.session.SessionManagementFilter@5c1a8b15, org.springframework.security.web.access.ExceptionTranslationFilter@28a4ab30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57487f3d]
2021-01-02 17:57:20,153 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13fc0df0, org.springframework.security.web.context.SecurityContextPersistenceFilter@b09eaae, org.springframework.security.web.header.HeaderWriterFilter@40320f1a, org.springframework.security.web.authentication.logout.LogoutFilter@694f84a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ef8c808, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ee25812, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7455c2f4, org.springframework.security.web.session.SessionManagementFilter@47d2969e, org.springframework.security.web.access.ExceptionTranslationFilter@4e6d7730, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f57e6ba]
2021-01-02 17:57:20,314 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 17:57:20,352 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 17:57:20,355 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.971 seconds (JVM running for 12.866)
2021-01-02 17:57:36,329 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 17:57:36,363 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 17:57:36,450 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 85 ms
2021-01-02 17:57:54,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:58:50,766 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 10832 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 17:58:50,772 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 17:58:50,773 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 17:58:50,894 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 17:58:50,894 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 17:58:50,895 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 17:58:52,590 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 17:58:52,844 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 235ms. Found 7 JPA repository interfaces.
2021-01-02 17:58:53,791 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:53,848 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:53,861 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:53,867 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73570508' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:53,874 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:53,883 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 17:58:55,521 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 17:58:55,544 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 17:58:55,545 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 17:58:55,546 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 17:58:55,764 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 17:58:55,765 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4866 ms
2021-01-02 17:58:56,153 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 17:58:56,328 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 17:58:56,646 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 17:58:56,847 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 17:58:57,112 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 17:58:57,139 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 17:58:58,945 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 17:58:58,952 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 17:58:58,954 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 17:58:58,956 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 17:58:58,957 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 17:58:58,959 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 17:58:58,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 17:58:58,980 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 17:58:58,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 17:58:58,994 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 17:58:59,004 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 17:58:59,012 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 17:58:59,016 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 17:58:59,023 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 17:58:59,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 17:58:59,043 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 17:58:59,064 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 17:58:59,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 17:58:59,087 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 17:58:59,100 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 17:58:59,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 17:58:59,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 17:58:59,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 17:58:59,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 17:58:59,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 17:58:59,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 17:58:59,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 17:58:59,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 17:58:59,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 17:58:59,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 17:58:59,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 17:58:59,184 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 17:58:59,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 17:58:59,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 17:58:59,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 17:58:59,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 17:58:59,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 17:58:59,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 17:58:59,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 17:58:59,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 17:58:59,232 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 17:58:59,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 17:58:59,236 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 17:58:59,238 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 17:58:59,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 17:58:59,241 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 17:58:59,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 17:58:59,247 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 17:58:59,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 17:58:59,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-02 17:58:59,256 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 17:58:59,268 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 17:58:59,297 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 17:59:00,120 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 17:59:00,836 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 17:59:01,302 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 17:59:01,509 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 17:59:01,564 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 17:59:02,701 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c3aaef2, org.springframework.security.web.context.SecurityContextPersistenceFilter@3036326c, org.springframework.security.web.header.HeaderWriterFilter@7408ff58, org.springframework.security.web.authentication.logout.LogoutFilter@5034a5b8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@61c828e2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e9a4a7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d1a5166, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49414cfb, org.springframework.security.web.session.SessionManagementFilter@35b99183, org.springframework.security.web.access.ExceptionTranslationFilter@543f1591, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bedfd13]
2021-01-02 17:59:02,731 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7f8cf200, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fbee392, org.springframework.security.web.context.SecurityContextPersistenceFilter@3549cd8a, org.springframework.security.web.header.HeaderWriterFilter@11e9ecc4, org.springframework.web.filter.CorsFilter@7907c109, org.springframework.security.web.authentication.logout.LogoutFilter@5acabf64, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@14dd8f30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7333885d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2de2c533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51e7b206, org.springframework.security.web.session.SessionManagementFilter@24f501e7, org.springframework.security.web.access.ExceptionTranslationFilter@45806791, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2cfc8b]
2021-01-02 17:59:02,742 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ddab18b, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f750a2e, org.springframework.security.web.header.HeaderWriterFilter@7aa2d9e4, org.springframework.security.web.authentication.logout.LogoutFilter@64298fc3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68f1a16e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470286d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f87a619, org.springframework.security.web.session.SessionManagementFilter@7aa16fd, org.springframework.security.web.access.ExceptionTranslationFilter@34e87375, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@299f3521]
2021-01-02 17:59:02,905 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 17:59:02,946 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 17:59:02,949 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 13.029 seconds (JVM running for 13.985)
2021-01-02 17:59:22,782 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 17:59:22,783 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 17:59:22,800 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2021-01-02 17:59:23,070 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 18:19:41,173 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 18:19:41,175 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-01-02 18:19:41,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 18:19:41,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 18:19:41,187 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 18:19:41,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 18:19:41,191 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 18:19:41,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists adminindex cascade
2021-01-02 18:19:41,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2021-01-02 18:19:41,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2021-01-02 18:19:41,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2021-01-02 18:19:41,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2021-01-02 18:19:41,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2021-01-02 18:19:41,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2021-01-02 18:19:41,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2021-01-02 18:19:41,291 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2021-01-02 18:19:41,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2021-01-02 18:19:41,323 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2021-01-02 18:19:41,358 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2021-01-02 18:19:42,571 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 13848 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 18:19:42,577 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 18:19:42,578 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 18:19:42,758 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 18:19:42,759 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 18:19:42,759 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 18:19:43,146 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 10832 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 18:19:43,146 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 18:19:43,146 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 18:19:45,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 18:19:45,953 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 217ms. Found 7 JPA repository interfaces.
2021-01-02 18:19:46,795 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:46,854 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:46,863 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:46,874 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3145af0f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:46,879 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:46,889 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:52,814 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 15268 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-02 18:19:52,820 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-02 18:19:52,821 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-02 18:19:52,916 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-02 18:19:52,917 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-02 18:19:52,917 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-02 18:19:54,383 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-02 18:19:54,652 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 251ms. Found 7 JPA repository interfaces.
2021-01-02 18:19:55,496 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:55,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:55,558 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:55,564 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3370b0b1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:55,567 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:55,581 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-02 18:19:56,925 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-02 18:19:56,943 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-02 18:19:56,944 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-02 18:19:56,944 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-02 18:19:57,136 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-02 18:19:57,136 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4218 ms
2021-01-02 18:19:57,498 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-02 18:19:57,646 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-02 18:19:57,943 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-02 18:19:58,203 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-02 18:19:58,392 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-02 18:19:58,420 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-02 18:19:59,914 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-02 18:19:59,924 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 18:19:59,925 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-02 18:19:59,926 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 18:19:59,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-02 18:19:59,928 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 18:19:59,929 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-02 18:19:59,931 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 18:19:59,931 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-02 18:19:59,933 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-02 18:19:59,934 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-02 18:19:59,937 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,937 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «adminindex» no existe, omitiendo
2021-01-02 18:19:59,938 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-02 18:19:59,939 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,939 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2021-01-02 18:19:59,940 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-02 18:19:59,940 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,941 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2021-01-02 18:19:59,941 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-02 18:19:59,942 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,942 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2021-01-02 18:19:59,943 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-02 18:19:59,944 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,944 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2021-01-02 18:19:59,944 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-02 18:19:59,945 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,946 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2021-01-02 18:19:59,946 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-02 18:19:59,946 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,947 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2021-01-02 18:19:59,947 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-02 18:19:59,948 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,948 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2021-01-02 18:19:59,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-02 18:19:59,950 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,950 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2021-01-02 18:19:59,950 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-02 18:19:59,952 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-02 18:19:59,952 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2021-01-02 18:19:59,957 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-02 18:19:59,992 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-02 18:20:00,010 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-02 18:20:00,023 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-02 18:20:00,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-02 18:20:00,057 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-02 18:20:00,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-02 18:20:00,079 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-02 18:20:00,090 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-02 18:20:00,107 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-02 18:20:00,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-02 18:20:00,118 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-02 18:20:00,122 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-02 18:20:00,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-02 18:20:00,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-02 18:20:00,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-02 18:20:00,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-02 18:20:00,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-02 18:20:00,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-02 18:20:00,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-02 18:20:00,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-02 18:20:00,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-02 18:20:00,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-02 18:20:00,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-02 18:20:00,177 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-02 18:20:00,185 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-02 18:20:00,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-02 18:20:00,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-02 18:20:00,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-02 18:20:00,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-02 18:20:00,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-02 18:20:00,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-02 18:20:00,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-02 18:20:00,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-02 18:20:00,203 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-02 18:20:00,212 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-02 18:20:00,225 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-02 18:20:00,279 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-02 18:20:00,973 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-02 18:20:01,833 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-02 18:20:02,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 18:20:02,525 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-02 18:20:02,577 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-02 18:20:03,731 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fb7cce, org.springframework.security.web.context.SecurityContextPersistenceFilter@7162fcb6, org.springframework.security.web.header.HeaderWriterFilter@18fef005, org.springframework.security.web.authentication.logout.LogoutFilter@3afff1ad, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1bc7c26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@420a5cdb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a27c220, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74910f49, org.springframework.security.web.session.SessionManagementFilter@1854560c, org.springframework.security.web.access.ExceptionTranslationFilter@23737554, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f8f410b]
2021-01-02 18:20:03,759 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@12f78724, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d38b8ee, org.springframework.security.web.context.SecurityContextPersistenceFilter@b8541f1, org.springframework.security.web.header.HeaderWriterFilter@2c0afe55, org.springframework.web.filter.CorsFilter@41ee0c49, org.springframework.security.web.authentication.logout.LogoutFilter@2fdce0ce, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7254a524, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20091586, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b0aaf84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1492a460, org.springframework.security.web.session.SessionManagementFilter@281fa6f3, org.springframework.security.web.access.ExceptionTranslationFilter@2df0cae5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5aa1e11d]
2021-01-02 18:20:03,773 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28a98753, org.springframework.security.web.context.SecurityContextPersistenceFilter@574d3caf, org.springframework.security.web.header.HeaderWriterFilter@51bd04f3, org.springframework.security.web.authentication.logout.LogoutFilter@35e30ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8503970, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31733e15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d62d680, org.springframework.security.web.session.SessionManagementFilter@32510dbf, org.springframework.security.web.access.ExceptionTranslationFilter@33ed85eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d2901d7]
2021-01-02 18:20:03,936 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-02 18:20:03,970 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-02 18:20:03,972 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.993 seconds (JVM running for 12.911)
2021-01-02 18:20:15,831 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-02 18:20:15,831 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-02 18:20:15,848 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2021-01-02 18:20:16,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 18:20:37,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as col_0_0_ from usuarios usuario0_ where usuario0_.username=? limit ?
2021-01-02 18:20:37,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] insert into usuarios (acepta_emails, apellidos, cod_activacion, cod_cambio_passw, email, enabled, esperando_cambio_passw, fecha_activado, fecha_registro, fecha_sol_cambio_passw, finalizada_activacion, nombre, password, telefono, username) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-01-02 18:20:37,537 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 18:20:37,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] insert into usuarios_roles (usuario_id, role_id) values (?, ?)
2021-01-02 18:21:23,979 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.cod_activacion=?
2021-01-02 18:21:24,006 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] update usuarios set acepta_emails=?, apellidos=?, cod_activacion=?, cod_cambio_passw=?, email=?, enabled=?, esperando_cambio_passw=?, fecha_activado=?, fecha_registro=?, fecha_sol_cambio_passw=?, finalizada_activacion=?, nombre=?, password=?, telefono=?, username=? where id=?
2021-01-02 18:21:24,012 DEBUG com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-4] [usuario activadoo, ok]
2021-01-02 18:21:24,156 INFO com.afl.restaurante.controllers.UsuarioControlerMvc [http-nio-8080-exec-5] parametro de entrada messageKey = Optional[message.accountVerified]
2021-01-02 18:21:54,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 18:25:58,669 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 18:25:58,681 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 18:25:58,688 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_USER
2021-01-02 18:25:58,689 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_ADMIN
2021-01-02 18:25:58,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 18:26:25,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 18:26:25,349 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 18:26:25,362 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 18:26:25,365 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 18:26:28,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 18:26:33,358 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-1] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\help.png
2021-01-02 18:26:37,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 18:26:37,337 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 18:26:37,338 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 18:26:37,343 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-4] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 22:00:32,014 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 22:00:32,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_9_0_, roles0_.role_id as role_id2_9_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-02 22:00:32,030 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2021-01-02 22:00:32,031 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2021-01-02 22:00:32,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_8_, usuario0_.acepta_emails as acepta_e2_8_, usuario0_.apellidos as apellido3_8_, usuario0_.cod_activacion as cod_acti4_8_, usuario0_.cod_cambio_passw as cod_camb5_8_, usuario0_.email as email6_8_, usuario0_.enabled as enabled7_8_, usuario0_.esperando_cambio_passw as esperand8_8_, usuario0_.fecha_activado as fecha_ac9_8_, usuario0_.fecha_registro as fecha_r10_8_, usuario0_.fecha_sol_cambio_passw as fecha_s11_8_, usuario0_.finalizada_activacion as finaliz12_8_, usuario0_.nombre as nombre13_8_, usuario0_.password as passwor14_8_, usuario0_.telefono as telefon15_8_, usuario0_.username as usernam16_8_ from usuarios usuario0_ where usuario0_.username=?
2021-01-02 22:00:32,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-02 22:00:32,613 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-02 22:00:32,613 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-02 22:00:32,613 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-02 22:31:38,465 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 22:31:40,032 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 23:52:31,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-02 23:52:31,506 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
