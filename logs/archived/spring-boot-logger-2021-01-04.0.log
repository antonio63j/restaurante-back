2021-01-04 18:04:29,831 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 15340 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 18:04:29,839 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 18:04:29,840 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 18:04:29,954 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 18:04:29,955 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 18:04:29,956 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 18:04:31,736 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 18:04:31,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 212ms. Found 7 JPA repository interfaces.
2021-01-04 18:04:32,867 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:32,933 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:32,942 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:32,948 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@47f48338' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:32,951 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:32,967 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:04:34,342 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 18:04:34,368 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 18:04:34,369 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 18:04:34,370 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 18:04:34,605 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 18:04:34,605 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4649 ms
2021-01-04 18:04:35,061 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 18:04:35,277 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 18:04:35,732 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 18:04:35,976 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 18:04:36,221 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 18:04:36,254 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 18:04:36,787 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.afl.restaurante.entities.Slider
2021-01-04 18:04:36,791 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2021-01-04 18:04:36,865 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2021-01-04 18:04:36,872 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2021-01-04 18:04:36,901 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-04 18:04:36,905 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.afl.restaurante.entities.Slider
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.hibernate.AnnotationException: No identifier specified for entity: com.afl.restaurante.entities.Slider
	at org.hibernate.cfg.InheritanceState.determineDefaultAccessType(InheritanceState.java:266)
	at org.hibernate.cfg.InheritanceState.getElementsToProcess(InheritanceState.java:211)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:781)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:254)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:230)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:273)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1202)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1233)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	... 21 common frames omitted
2021-01-04 18:10:28,470 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 11572 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 18:10:28,475 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 18:10:28,476 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 18:10:28,585 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 18:10:28,586 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 18:10:28,586 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 18:10:30,224 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 18:10:30,581 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 338ms. Found 7 JPA repository interfaces.
2021-01-04 18:10:31,392 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:31,445 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:31,453 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:31,459 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@25b43af6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:31,466 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:31,481 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:10:32,827 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 18:10:32,845 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 18:10:32,846 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 18:10:32,847 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 18:10:33,054 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 18:10:33,055 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4468 ms
2021-01-04 18:10:33,458 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 18:10:33,583 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 18:10:33,902 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 18:10:34,137 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 18:10:34,376 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 18:10:34,410 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 18:10:36,074 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 18:10:36,082 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 18:10:36,084 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 18:10:36,085 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 18:10:36,087 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 18:10:36,089 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 18:10:36,104 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 18:10:36,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 18:10:36,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 18:10:36,133 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 18:10:36,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 18:10:36,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 18:10:36,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 18:10:36,176 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 18:10:36,180 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 18:10:36,181 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «sliders» no existe, omitiendo
2021-01-04 18:10:36,181 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 18:10:36,195 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 18:10:36,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 18:10:36,230 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 18:10:36,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 18:10:36,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 18:10:36,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 18:10:36,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 18:10:36,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 18:10:36,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 18:10:36,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 18:10:36,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 18:10:36,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 18:10:36,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 18:10:36,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 18:10:36,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 18:10:36,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 18:10:36,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 18:10:36,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 18:10:36,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 18:10:36,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 18:10:36,377 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 18:10:36,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 18:10:36,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 18:10:36,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 18:10:36,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 18:10:36,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 18:10:36,408 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 18:10:36,419 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 18:10:36,432 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 18:10:36,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 18:10:36,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 18:10:36,441 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 18:10:36,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 18:10:36,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 18:10:36,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admhome' )
2021-01-04 18:10:36,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 18:10:36,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 18:10:36,462 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 18:10:36,472 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 18:10:36,499 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 18:10:37,631 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 18:10:38,402 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 18:10:39,034 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 18:10:39,232 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 18:10:39,314 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 18:10:40,625 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e313cfd, org.springframework.security.web.context.SecurityContextPersistenceFilter@58cfeb57, org.springframework.security.web.header.HeaderWriterFilter@12034471, org.springframework.security.web.authentication.logout.LogoutFilter@7456948f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5135094, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b576481, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22550265, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71f7962f, org.springframework.security.web.session.SessionManagementFilter@5d350582, org.springframework.security.web.access.ExceptionTranslationFilter@31b10b65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2326a52e]
2021-01-04 18:10:40,654 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4629134e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@283070f5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a68226d, org.springframework.security.web.header.HeaderWriterFilter@375ef3d1, org.springframework.web.filter.CorsFilter@170e0330, org.springframework.security.web.authentication.logout.LogoutFilter@242f6e96, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6934655a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73170d7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3317b8b3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2412cac9, org.springframework.security.web.session.SessionManagementFilter@37317cab, org.springframework.security.web.access.ExceptionTranslationFilter@2c86bc1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@530c146c]
2021-01-04 18:10:40,675 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@259a522, org.springframework.security.web.context.SecurityContextPersistenceFilter@4465f64b, org.springframework.security.web.header.HeaderWriterFilter@650c29ae, org.springframework.security.web.authentication.logout.LogoutFilter@1cf6839d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e717dc1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ab47cf8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63d6b81, org.springframework.security.web.session.SessionManagementFilter@1814aaed, org.springframework.security.web.access.ExceptionTranslationFilter@1cb2d58b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@381a9954]
2021-01-04 18:10:40,846 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 18:10:40,898 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 18:10:40,911 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 13.299 seconds (JVM running for 14.466)
2021-01-04 18:14:33,774 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 18:14:33,776 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 18:14:33,793 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 17 ms
2021-01-04 18:14:34,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 18:14:47,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 18:14:47,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 18:14:47,367 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_USER
2021-01-04 18:14:47,367 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-2] Role:ROLE_ADMIN
2021-01-04 18:14:47,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 18:14:50,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 18:14:50,345 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 18:14:50,389 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 18:14:50,406 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 18:19:32,019 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 15992 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 18:19:32,024 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 18:19:32,025 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 18:19:32,125 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 18:19:32,126 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 18:19:32,127 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 18:19:33,674 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 18:19:33,862 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 171ms. Found 7 JPA repository interfaces.
2021-01-04 18:19:34,698 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:34,751 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:34,759 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:34,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3a55502e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:34,777 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:34,789 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 18:19:36,146 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 18:19:36,167 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 18:19:36,169 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 18:19:36,169 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 18:19:36,390 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 18:19:36,391 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4264 ms
2021-01-04 18:19:36,744 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 18:19:36,914 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 18:19:37,156 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 18:19:37,388 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 18:19:37,714 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 18:19:37,743 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 18:19:39,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 18:19:39,230 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 18:19:39,232 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 18:19:39,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 18:19:39,234 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 18:19:39,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 18:19:39,247 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 18:19:39,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 18:19:39,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 18:19:39,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 18:19:39,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 18:19:39,290 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 18:19:39,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 18:19:39,302 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 18:19:39,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 18:19:39,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 18:19:39,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 18:19:39,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 18:19:39,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 18:19:39,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 18:19:39,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 18:19:39,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 18:19:39,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 18:19:39,419 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 18:19:39,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 18:19:39,441 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 18:19:39,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 18:19:39,460 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 18:19:39,465 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 18:19:39,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 18:19:39,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 18:19:39,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 18:19:39,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 18:19:39,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 18:19:39,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 18:19:39,501 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 18:19:39,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 18:19:39,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 18:19:39,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 18:19:39,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 18:19:39,531 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 18:19:39,537 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 18:19:39,547 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 18:19:39,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 18:19:39,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 18:19:39,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 18:19:39,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 18:19:39,559 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 18:19:39,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 18:19:39,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 18:19:39,565 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 18:19:39,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 18:19:39,573 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 18:19:39,586 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 18:19:39,620 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 18:19:40,315 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 18:19:41,029 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 18:19:41,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 18:19:41,685 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 18:19:41,796 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 18:19:43,070 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7294265c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f434d4e, org.springframework.security.web.header.HeaderWriterFilter@1c3bf0d3, org.springframework.security.web.authentication.logout.LogoutFilter@7c932d24, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@260e6feb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e47fd1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c46c2ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@373e3c8, org.springframework.security.web.session.SessionManagementFilter@7e752476, org.springframework.security.web.access.ExceptionTranslationFilter@1f0a5bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@612b5234]
2021-01-04 18:19:43,100 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@49723f90, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3076352, org.springframework.security.web.context.SecurityContextPersistenceFilter@7de0d6f, org.springframework.security.web.header.HeaderWriterFilter@32850434, org.springframework.web.filter.CorsFilter@72bd0e2c, org.springframework.security.web.authentication.logout.LogoutFilter@64fac624, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5524a245, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdff9b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e1fabf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35c15ccb, org.springframework.security.web.session.SessionManagementFilter@765c7208, org.springframework.security.web.access.ExceptionTranslationFilter@5fe88e5e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d454fc7]
2021-01-04 18:19:43,112 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af0cb3e, org.springframework.security.web.context.SecurityContextPersistenceFilter@50894cd, org.springframework.security.web.header.HeaderWriterFilter@959c38a, org.springframework.security.web.authentication.logout.LogoutFilter@42257f7b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@543a2991, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13b8f50f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@584be48a, org.springframework.security.web.session.SessionManagementFilter@19e12063, org.springframework.security.web.access.ExceptionTranslationFilter@6756d6b3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2854c0e3]
2021-01-04 18:19:43,283 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 18:19:43,323 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 18:19:43,326 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.115 seconds (JVM running for 13.162)
2021-01-04 18:19:50,609 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 18:19:50,609 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 18:19:50,626 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 16 ms
2021-01-04 18:20:36,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 18:20:36,195 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 18:20:36,204 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_USER
2021-01-04 18:20:36,205 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-3] Role:ROLE_ADMIN
2021-01-04 18:20:36,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 18:20:36,946 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 18:20:37,054 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 18:20:37,054 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 18:20:37,059 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-6] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 18:23:57,976 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 18:23:57,998 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 18:23:58,007 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 18:23:58,022 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 18:38:28,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:20:49,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:20:49,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 22:20:49,826 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_USER
2021-01-04 22:20:49,826 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_ADMIN
2021-01-04 22:20:50,005 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:23:20,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:24:23,729 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 22:24:23,783 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 22:24:23,798 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 22:24:23,804 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 22:24:26,385 WARN org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-9] No mapping for GET /api/sliders
2021-01-04 22:51:08,301 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 3084 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 22:51:08,301 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 22:51:08,301 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 22:51:08,379 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 22:51:08,379 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 22:51:08,379 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 22:51:10,004 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 22:51:10,199 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 176ms. Found 7 JPA repository interfaces.
2021-01-04 22:51:11,105 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:11,161 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:11,161 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:11,177 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@d34d201' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:11,177 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:11,192 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:51:12,411 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 22:51:12,444 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 22:51:12,444 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 22:51:12,444 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 22:51:12,616 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 22:51:12,616 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4221 ms
2021-01-04 22:51:13,006 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 22:51:13,163 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 22:51:13,381 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 22:51:13,506 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 22:51:13,724 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 22:51:13,755 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 22:51:15,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 22:51:15,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 22:51:15,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 22:51:15,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 22:51:15,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 22:51:15,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 22:51:15,217 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 22:51:15,217 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 22:51:15,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 22:51:15,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 22:51:15,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 22:51:15,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 22:51:15,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 22:51:15,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 22:51:15,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 22:51:15,295 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 22:51:15,295 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 22:51:15,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 22:51:15,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 22:51:15,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 22:51:15,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 22:51:15,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 22:51:15,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 22:51:15,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 22:51:15,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 22:51:15,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 22:51:15,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 22:51:15,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 22:51:15,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 22:51:15,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 22:51:15,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 22:51:15,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 22:51:15,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 22:51:15,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 22:51:15,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 22:51:15,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 22:51:15,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 22:51:15,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 22:51:15,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 22:51:15,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 22:51:15,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 22:51:15,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 22:51:15,483 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 22:51:15,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 22:51:15,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 22:51:15,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 22:51:15,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 22:51:15,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 22:51:15,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 22:51:15,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 22:51:15,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 22:51:15,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 22:51:15,514 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 22:51:15,530 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 22:51:15,561 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 22:51:16,530 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 22:51:17,028 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 22:51:17,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:51:17,684 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 22:51:17,721 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 22:51:18,893 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5477c4ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@514ba05d, org.springframework.security.web.header.HeaderWriterFilter@1423a133, org.springframework.security.web.authentication.logout.LogoutFilter@1c324933, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e84af25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@662aea2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dd21e78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45dd299f, org.springframework.security.web.session.SessionManagementFilter@30c51c4e, org.springframework.security.web.access.ExceptionTranslationFilter@3e7f21b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b46ae1d]
2021-01-04 22:51:18,940 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@3fe42df1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10fb52cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@148eb850, org.springframework.security.web.header.HeaderWriterFilter@4bc410b5, org.springframework.web.filter.CorsFilter@4965d09f, org.springframework.security.web.authentication.logout.LogoutFilter@29142b54, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5fdc09f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f904f38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4babbc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ff87f9, org.springframework.security.web.session.SessionManagementFilter@7196ad9, org.springframework.security.web.access.ExceptionTranslationFilter@6da2c8f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cf821f3]
2021-01-04 22:51:18,987 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@615f0527, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f88495d, org.springframework.security.web.header.HeaderWriterFilter@71d50ff0, org.springframework.security.web.authentication.logout.LogoutFilter@73f585ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cffea6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@150cc68a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b9cd32e, org.springframework.security.web.session.SessionManagementFilter@23ef065e, org.springframework.security.web.access.ExceptionTranslationFilter@3f8188be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75c90413]
2021-01-04 22:51:19,143 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 22:51:19,174 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 22:51:19,174 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.63 seconds (JVM running for 12.837)
2021-01-04 22:53:57,294 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 22:53:57,295 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 22:53:57,334 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 38 ms
2021-01-04 22:53:57,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:54:17,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:54:17,646 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 22:54:17,654 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_USER
2021-01-04 22:54:17,655 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-5] Role:ROLE_ADMIN
2021-01-04 22:54:17,837 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:54:23,504 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 22:54:23,555 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-9] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 22:54:23,557 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-10] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 22:54:23,558 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 22:54:29,823 WARN org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] No mapping for GET /api/empresa/sliders
2021-01-04 22:56:50,500 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 12628 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 22:56:50,500 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 22:56:50,500 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 22:56:50,609 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 22:56:50,609 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 22:56:50,609 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 22:56:52,087 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 22:56:52,294 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 198ms. Found 7 JPA repository interfaces.
2021-01-04 22:56:53,107 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:53,161 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:53,177 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:53,177 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@f0071a0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:53,177 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:53,193 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 22:56:54,505 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 22:56:54,532 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 22:56:54,532 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 22:56:54,532 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 22:56:54,736 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 22:56:54,736 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4127 ms
2021-01-04 22:56:55,126 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 22:56:55,220 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 22:56:55,423 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 22:56:55,564 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 22:56:55,763 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 22:56:55,794 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 22:56:57,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 22:56:57,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 22:56:57,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 22:56:57,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 22:56:57,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 22:56:57,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 22:56:57,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 22:56:57,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 22:56:57,417 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 22:56:57,417 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 22:56:57,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 22:56:57,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 22:56:57,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 22:56:57,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 22:56:57,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 22:56:57,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 22:56:57,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 22:56:57,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 22:56:57,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 22:56:57,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 22:56:57,542 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 22:56:57,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 22:56:57,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 22:56:57,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 22:56:57,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 22:56:57,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 22:56:57,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 22:56:57,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 22:56:57,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 22:56:57,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 22:56:57,636 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 22:56:57,636 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 22:56:57,636 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 22:56:57,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 22:56:57,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 22:56:57,652 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 22:56:57,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 22:56:57,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 22:56:57,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 22:56:57,683 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 22:56:57,683 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 22:56:57,683 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 22:56:57,699 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 22:56:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 22:56:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 22:56:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 22:56:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 22:56:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 22:56:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 22:56:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 22:56:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 22:56:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 22:56:57,730 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 22:56:57,730 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 22:56:57,761 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 22:56:58,808 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 22:56:59,350 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 22:56:59,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:57:00,053 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 22:57:00,100 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 22:57:01,381 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@97769cd, org.springframework.security.web.context.SecurityContextPersistenceFilter@7604c2a0, org.springframework.security.web.header.HeaderWriterFilter@742c804c, org.springframework.security.web.authentication.logout.LogoutFilter@6acb5add, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@66a4a607, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@328404b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c9087cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b668efa, org.springframework.security.web.session.SessionManagementFilter@3f7737bf, org.springframework.security.web.access.ExceptionTranslationFilter@1ef089e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34e5afa6]
2021-01-04 22:57:01,400 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@cf7469, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@396dd417, org.springframework.security.web.context.SecurityContextPersistenceFilter@63faba41, org.springframework.security.web.header.HeaderWriterFilter@1649b863, org.springframework.web.filter.CorsFilter@6d45292c, org.springframework.security.web.authentication.logout.LogoutFilter@26235ba1, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@23108d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404d95a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b1cb768, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@167b2a98, org.springframework.security.web.session.SessionManagementFilter@19825503, org.springframework.security.web.access.ExceptionTranslationFilter@4cedef2b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@205b73d7]
2021-01-04 22:57:01,416 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26596142, org.springframework.security.web.context.SecurityContextPersistenceFilter@218bbed5, org.springframework.security.web.header.HeaderWriterFilter@39a3cca1, org.springframework.security.web.authentication.logout.LogoutFilter@5188f4f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@137779bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@349669b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e9296ce, org.springframework.security.web.session.SessionManagementFilter@7a5c6b53, org.springframework.security.web.access.ExceptionTranslationFilter@33202dd4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@943d81c]
2021-01-04 22:57:01,572 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 22:57:01,619 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 22:57:01,619 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 11.87 seconds (JVM running for 12.886)
2021-01-04 22:57:17,301 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 22:57:17,302 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 22:57:17,324 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 21 ms
2021-01-04 22:57:41,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:57:41,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 22:57:41,780 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_USER
2021-01-04 22:57:41,780 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-6] Role:ROLE_ADMIN
2021-01-04 22:57:41,960 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 22:57:42,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 22:57:52,849 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:57:53,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 22:59:13,030 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 22:59:13,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 22:59:14,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:10:25,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:10:26,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:10:27,328 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:14:37,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:14:37,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:15:43,957 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:15:44,038 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:15:45,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:15:47,968 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:15:48,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:20:36,171 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 10500 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 23:20:36,171 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 23:20:36,171 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 23:20:36,264 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 23:20:36,264 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 23:20:36,264 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 23:20:37,796 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 23:20:37,979 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 166ms. Found 7 JPA repository interfaces.
2021-01-04 23:20:38,807 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:38,878 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:38,893 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:38,893 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@251a519f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:38,893 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:38,909 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:20:40,315 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 23:20:40,340 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 23:20:40,340 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 23:20:40,340 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 23:20:40,590 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 23:20:40,590 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4326 ms
2021-01-04 23:20:40,996 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 23:20:41,168 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 23:20:41,636 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 23:20:41,964 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 23:20:42,292 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 23:20:42,323 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 23:20:43,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 23:20:43,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 23:20:43,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 23:20:43,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 23:20:43,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 23:20:43,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 23:20:43,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 23:20:43,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 23:20:43,860 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 23:20:43,860 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 23:20:43,875 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 23:20:43,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 23:20:43,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 23:20:43,906 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 23:20:43,906 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 23:20:43,922 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 23:20:43,938 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 23:20:43,953 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 23:20:43,953 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 23:20:43,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 23:20:43,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 23:20:43,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 23:20:44,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 23:20:44,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 23:20:44,016 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 23:20:44,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 23:20:44,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 23:20:44,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 23:20:44,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 23:20:44,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 23:20:44,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 23:20:44,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 23:20:44,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 23:20:44,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 23:20:44,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 23:20:44,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 23:20:44,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 23:20:44,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 23:20:44,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 23:20:44,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 23:20:44,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 23:20:44,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 23:20:44,110 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 23:20:44,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 23:20:44,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 23:20:44,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 23:20:44,141 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 23:20:44,141 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 23:20:44,172 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 23:20:45,219 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 23:20:45,710 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 23:20:46,179 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:20:46,367 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 23:20:46,425 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 23:20:47,675 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c9451d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f680a1d, org.springframework.security.web.header.HeaderWriterFilter@5b0ac2a7, org.springframework.security.web.authentication.logout.LogoutFilter@7ac6ec7d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3734b5b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39431252, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2207395f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7df77f1a, org.springframework.security.web.session.SessionManagementFilter@350c8975, org.springframework.security.web.access.ExceptionTranslationFilter@489d76e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49a9c010]
2021-01-04 23:20:47,694 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@33ae20a2, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21dfa3c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a86ce11, org.springframework.security.web.header.HeaderWriterFilter@558ab6b6, org.springframework.web.filter.CorsFilter@304f6c12, org.springframework.security.web.authentication.logout.LogoutFilter@c84201f, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@312893f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16711b67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16ce3019, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5540892a, org.springframework.security.web.session.SessionManagementFilter@16521e83, org.springframework.security.web.access.ExceptionTranslationFilter@fd673bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ba7d9a8]
2021-01-04 23:20:47,710 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fe9b0c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@f647c0d, org.springframework.security.web.header.HeaderWriterFilter@636336de, org.springframework.security.web.authentication.logout.LogoutFilter@840d826, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5815cb66, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22bad37c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3eace667, org.springframework.security.web.session.SessionManagementFilter@71aeff46, org.springframework.security.web.access.ExceptionTranslationFilter@66662817, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6249d5ce]
2021-01-04 23:20:47,866 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 23:20:47,913 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 23:20:47,913 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.599 seconds (JVM running for 13.619)
2021-01-04 23:23:34,160 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 13188 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 23:23:34,175 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 23:23:34,175 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 23:23:34,269 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 23:23:34,269 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 23:23:34,269 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 23:23:35,738 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 23:23:35,951 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 203ms. Found 7 JPA repository interfaces.
2021-01-04 23:23:36,764 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:36,871 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:36,886 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:36,886 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@f81973f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:36,886 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:36,902 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:23:38,167 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 23:23:38,186 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 23:23:38,186 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 23:23:38,186 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 23:23:38,374 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 23:23:38,374 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4105 ms
2021-01-04 23:23:38,733 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 23:23:38,874 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 23:23:39,249 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 23:23:39,400 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 23:23:39,618 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 23:23:39,646 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 23:23:41,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 23:23:41,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 23:23:41,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 23:23:41,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 23:23:41,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 23:23:41,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 23:23:41,181 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 23:23:41,181 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 23:23:41,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 23:23:41,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 23:23:41,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 23:23:41,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 23:23:41,228 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 23:23:41,228 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 23:23:41,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 23:23:41,259 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 23:23:41,259 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 23:23:41,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 23:23:41,290 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 23:23:41,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 23:23:41,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 23:23:41,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 23:23:41,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 23:23:41,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 23:23:41,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 23:23:41,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 23:23:41,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 23:23:41,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 23:23:41,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 23:23:41,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 23:23:41,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 23:23:41,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 23:23:41,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 23:23:41,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 23:23:41,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 23:23:41,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 23:23:41,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 23:23:41,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 23:23:41,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 23:23:41,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 23:23:41,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 23:23:41,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 23:23:41,446 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 23:23:41,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 23:23:41,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 23:23:41,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO sliders ( imgFileName, label, descripcion) VALUES ('slider1.jpg', 'labelx', 'descripcionx')
2021-01-04 23:23:41,493 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "INSERT INTO sliders ( imgFileName, label, descripcion) VALUES ('slider1.jpg', 'labelx', 'descripcionx')" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "INSERT INTO sliders ( imgFileName, label, descripcion) VALUES ('slider1.jpg', 'labelx', 'descripcionx')" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:492)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:180)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la columna «imgfilename» en la relación «sliders»
  Position: 23
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 38 common frames omitted
2021-01-04 23:23:41,493 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 23:23:41,493 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 23:23:41,524 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 23:23:42,415 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 23:23:42,931 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 23:23:43,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:23:43,630 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 23:23:43,693 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 23:23:45,209 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@167b2a98, org.springframework.security.web.context.SecurityContextPersistenceFilter@1694f18a, org.springframework.security.web.header.HeaderWriterFilter@66a4a607, org.springframework.security.web.authentication.logout.LogoutFilter@b2b6f33, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a83d111, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dbbbe2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a721e0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dec6802, org.springframework.security.web.session.SessionManagementFilter@7260c6b2, org.springframework.security.web.access.ExceptionTranslationFilter@2c2651f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@634b17fc]
2021-01-04 23:23:45,236 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@24bd3b65, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5396dcaf, org.springframework.security.web.context.SecurityContextPersistenceFilter@791ac5eb, org.springframework.security.web.header.HeaderWriterFilter@2d898a84, org.springframework.web.filter.CorsFilter@434f9029, org.springframework.security.web.authentication.logout.LogoutFilter@26596142, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@133a3a03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ec6d8a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ffab051, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bdff95, org.springframework.security.web.session.SessionManagementFilter@5188f4f6, org.springframework.security.web.access.ExceptionTranslationFilter@349669b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a8f396]
2021-01-04 23:23:45,236 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1817c87f, org.springframework.security.web.context.SecurityContextPersistenceFilter@cb238bf, org.springframework.security.web.header.HeaderWriterFilter@33bed7ce, org.springframework.security.web.authentication.logout.LogoutFilter@dbea107, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a6f4e5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f2ae279, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dfd0998, org.springframework.security.web.session.SessionManagementFilter@19d2d46a, org.springframework.security.web.access.ExceptionTranslationFilter@2b6fbc88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d7b47c8]
2021-01-04 23:23:45,376 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 23:23:45,423 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 23:23:45,423 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.063 seconds (JVM running for 13.103)
2021-01-04 23:25:13,842 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-6] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 23:25:13,851 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-6] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-01-04 23:25:13,854 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 23:25:13,854 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 23:25:13,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 23:25:13,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 23:25:13,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 23:25:13,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists adminindex cascade
2021-01-04 23:25:13,885 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists clientes cascade
2021-01-04 23:25:13,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists cursos cascade
2021-01-04 23:25:13,916 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists empresa cascade
2021-01-04 23:25:13,932 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists herramienta cascade
2021-01-04 23:25:13,948 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto cascade
2021-01-04 23:25:13,963 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists proyecto_herramienta cascade
2021-01-04 23:25:13,979 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists roles cascade
2021-01-04 23:25:13,979 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists sliders cascade
2021-01-04 23:25:13,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios cascade
2021-01-04 23:25:14,026 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [Thread-6] drop table if exists usuarios_roles cascade
2021-01-04 23:25:14,041 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown initiated...
2021-01-04 23:25:14,057 INFO com.zaxxer.hikari.HikariDataSource [Thread-6] HikariPool-1 - Shutdown completed.
2021-01-04 23:25:15,147 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 9884 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 23:25:15,147 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 23:25:15,147 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 23:25:15,272 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 23:25:15,272 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 23:25:15,272 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 23:25:16,804 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 23:25:16,987 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 175ms. Found 7 JPA repository interfaces.
2021-01-04 23:25:17,846 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:17,891 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:17,906 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:17,906 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5c769542' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:17,922 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:17,937 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:25:19,250 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 23:25:19,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 23:25:19,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 23:25:19,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 23:25:19,445 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 23:25:19,445 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4173 ms
2021-01-04 23:25:19,867 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 23:25:20,008 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 23:25:20,258 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 23:25:20,471 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 23:25:20,846 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 23:25:20,892 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 23:25:22,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 23:25:22,708 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 23:25:22,708 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 23:25:22,708 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «proyecto_herramienta»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 23:25:22,708 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 23:25:22,708 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:320)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
	at com.afl.restaurante.BootAppRestaurante.main(BootAppRestaurante.java:21)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: no existe la relación «usuarios_roles»
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:269)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 40 common frames omitted
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 23:25:22,708 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,708 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «adminindex» no existe, omitiendo
2021-01-04 23:25:22,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «clientes» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «cursos» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «empresa» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «herramienta» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «proyecto_herramienta» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «roles» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «sliders» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios» no existe, omitiendo
2021-01-04 23:25:22,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2021-01-04 23:25:22,723 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler [restartedMain] la tabla «usuarios_roles» no existe, omitiendo
2021-01-04 23:25:22,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 23:25:22,755 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 23:25:22,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 23:25:22,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 23:25:22,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 23:25:22,833 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 23:25:22,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 23:25:22,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 23:25:22,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 23:25:22,880 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 23:25:22,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 23:25:22,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 23:25:22,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 23:25:22,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 23:25:22,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 23:25:22,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 23:25:22,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 23:25:22,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 23:25:22,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 23:25:22,942 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 23:25:22,942 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 23:25:22,942 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 23:25:22,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 23:25:22,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 23:25:22,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 23:25:22,958 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 23:25:22,973 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 23:25:22,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 23:25:22,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 23:25:22,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 23:25:22,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 23:25:22,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 23:25:22,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 23:25:22,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 23:25:22,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 23:25:22,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 23:25:22,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO sliders ( img_file_name, label, descripcion) VALUES ('slider1.jpg', 'labelx', 'descripcionx')
2021-01-04 23:25:22,989 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 23:25:23,005 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 23:25:23,036 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 23:25:24,208 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 23:25:24,684 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 23:25:25,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:25:25,355 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 23:25:25,413 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 23:25:26,600 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3492e77b, org.springframework.security.web.context.SecurityContextPersistenceFilter@180a50ae, org.springframework.security.web.header.HeaderWriterFilter@4c64aaa8, org.springframework.security.web.authentication.logout.LogoutFilter@328404b4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@35e0c3b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54b014a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54098c90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95cef71, org.springframework.security.web.session.SessionManagementFilter@64ff4e89, org.springframework.security.web.access.ExceptionTranslationFilter@5e27e55e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26040b5b]
2021-01-04 23:25:26,633 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@2d620fbd, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@634b17fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a12c3be, org.springframework.security.web.header.HeaderWriterFilter@4b842962, org.springframework.web.filter.CorsFilter@547acc28, org.springframework.security.web.authentication.logout.LogoutFilter@2ae7965e, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@404d95a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c2651f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4683a22c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b1929f, org.springframework.security.web.session.SessionManagementFilter@64588bf0, org.springframework.security.web.access.ExceptionTranslationFilter@35986b44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12ecfa52]
2021-01-04 23:25:26,649 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14480690, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a83d111, org.springframework.security.web.header.HeaderWriterFilter@416345cd, org.springframework.security.web.authentication.logout.LogoutFilter@4166eba4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c0ebc19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6798cb78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@205b73d7, org.springframework.security.web.session.SessionManagementFilter@24f8c56f, org.springframework.security.web.access.ExceptionTranslationFilter@4b45b5c5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1745cbcc]
2021-01-04 23:25:26,818 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 23:25:26,849 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 23:25:26,849 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.836 seconds (JVM running for 13.947)
2021-01-04 23:26:33,478 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 23:26:33,479 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 23:26:33,526 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 46 ms
2021-01-04 23:28:12,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 23:28:12,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 23:28:12,372 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_USER
2021-01-04 23:28:12,373 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-7] Role:ROLE_ADMIN
2021-01-04 23:28:12,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 23:28:13,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:28:13,168 INFO com.afl.restaurante.controllers.EmpresaController [http-nio-8080-exec-9] [Slider(id=1, imgFileName=slider1.jpg, label=labelx, descripcion=descripcionx)]
2021-01-04 23:28:13,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:29:08,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:29:09,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:29:09,351 INFO com.afl.restaurante.controllers.EmpresaController [http-nio-8080-exec-2] [Slider(id=1, imgFileName=slider1.jpg, label=labelx, descripcion=descripcionx)]
2021-01-04 23:29:09,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:29:50,013 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] select adminindex0_.id as id1_0_, adminindex0_.body as body2_0_, adminindex0_.cabecera as cabecera3_0_, adminindex0_.imagen as imagen4_0_, adminindex0_.route as route5_0_ from adminindex adminindex0_
2021-01-04 23:29:50,084 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-7] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\home.png
2021-01-04 23:29:50,116 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-5] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\empresa.png
2021-01-04 23:29:50,120 INFO com.afl.restaurante.services.files.UploadFileServiceImpl [http-nio-8080-exec-8] salida de fichero: C:\Proyectos\AngularSpring\restaurante\restaurante-back\uploads\imagenes\tipos.png
2021-01-04 23:29:51,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:29:51,867 INFO com.afl.restaurante.controllers.EmpresaController [http-nio-8080-exec-10] [Slider(id=1, imgFileName=slider1.jpg, label=labelx, descripcion=descripcionx)]
2021-01-04 23:29:51,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:31:40,249 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting BootAppRestaurante on antonioPortatil with PID 4032 (C:\Proyectos\AngularSpring\restaurante\restaurante-back\target\classes started by antonio in C:\Proyectos\AngularSpring\restaurante\restaurante-back)
2021-01-04 23:31:40,265 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2021-01-04 23:31:40,265 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-01-04 23:31:40,464 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\antonio\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/antonio/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-01-04 23:31:40,464 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-01-04 23:31:40,464 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-01-04 23:31:42,253 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-04 23:31:42,445 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 175ms. Found 7 JPA repository interfaces.
2021-01-04 23:31:43,402 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:43,527 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:43,534 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:43,537 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6b27f860' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:43,541 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:43,553 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-04 23:31:44,923 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2021-01-04 23:31:44,956 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2021-01-04 23:31:44,956 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-01-04 23:31:44,956 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.29]
2021-01-04 23:31:45,195 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-01-04 23:31:45,195 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4731 ms
2021-01-04 23:31:45,555 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-04 23:31:45,717 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.9.Final}
2021-01-04 23:31:45,977 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-01-04 23:31:46,181 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-01-04 23:31:46,354 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-01-04 23:31:46,401 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2021-01-04 23:31:47,845 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto drop constraint FK391t9hcdgfjcs6f7xf4khf1sp
2021-01-04 23:31:47,852 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKq87ke7fdkv8d2yjc4ili8pg1t
2021-01-04 23:31:47,854 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta drop constraint FKn0ya56kcb23nev3x5pxemuw76
2021-01-04 23:31:47,855 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKihom0uklpkfpffipxpoyf7b74
2021-01-04 23:31:47,857 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles drop constraint FKqcxu02bqipxpr7cjyj9dmhwec
2021-01-04 23:31:47,858 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists adminindex cascade
2021-01-04 23:31:47,861 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists clientes cascade
2021-01-04 23:31:47,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists cursos cascade
2021-01-04 23:31:47,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists empresa cascade
2021-01-04 23:31:47,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists herramienta cascade
2021-01-04 23:31:47,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto cascade
2021-01-04 23:31:47,908 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists proyecto_herramienta cascade
2021-01-04 23:31:47,908 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists roles cascade
2021-01-04 23:31:47,924 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists sliders cascade
2021-01-04 23:31:47,924 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios cascade
2021-01-04 23:31:47,940 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] drop table if exists usuarios_roles cascade
2021-01-04 23:31:47,955 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table adminindex (id  bigserial not null, body varchar(255), cabecera varchar(255) not null, imagen varchar(255), route varchar(255), primary key (id))
2021-01-04 23:31:47,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table clientes (id  bigserial not null, actividad TEXT, cliente varchar(255), clientefoto varchar(255), empresa varchar(255), empresafoto varchar(255), experiencia TEXT, fin date, inicio date, sector varchar(255), primary key (id))
2021-01-04 23:31:47,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table cursos (id  bigserial not null, fin date, horas int4, inicio date, nombre varchar(100) not null, primary key (id))
2021-01-04 23:31:47,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table empresa (id  bigserial not null, descripcion_breve TEXT, direccion varchar(60), email varchar(60), horario varchar(255), nombre varchar(60) not null, provincia varchar(30), telefono varchar(11), urlweb varchar(60), primary key (id))
2021-01-04 23:31:48,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table herramienta (id  bigserial not null, comentario varchar(80), nivel varchar(255), nombre varchar(80), tipo varchar(255), primary key (id))
2021-01-04 23:31:48,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto (id  bigserial not null, descripcion TEXT, fin date not null, inicio date not null, nombre varchar(79) not null, cliente_id int8, primary key (id))
2021-01-04 23:31:48,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table proyecto_herramienta (proyecto_id int8 not null, herramienta_id int8 not null)
2021-01-04 23:31:48,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table roles (id  bigserial not null, nombre varchar(20), primary key (id))
2021-01-04 23:31:48,049 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table sliders (id  bigserial not null, descripcion varchar(255), img_file_name varchar(255), label varchar(255), primary key (id))
2021-01-04 23:31:48,049 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios (id  bigserial not null, acepta_emails boolean, apellidos varchar(255), cod_activacion varchar(80), cod_cambio_passw varchar(80), email varchar(255), enabled boolean, esperando_cambio_passw boolean, fecha_activado date, fecha_registro TIMESTAMP, fecha_sol_cambio_passw date, finalizada_activacion boolean not null, nombre varchar(255), password varchar(60) not null, telefono varchar(255), username varchar(60) not null, primary key (id))
2021-01-04 23:31:48,065 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] create table usuarios_roles (usuario_id int8 not null, role_id int8 not null)
2021-01-04 23:31:48,080 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table clientes add constraint UKteoa9ce3xv2ajahs0lgfoll2v unique (empresa, cliente, inicio)
2021-01-04 23:31:48,080 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table empresa add constraint UK_2fqlxbcs4h827hio1qam0dhd3 unique (nombre)
2021-01-04 23:31:48,080 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table herramienta add constraint UK_r2962ann3eaimg1plgafqssu1 unique (nombre)
2021-01-04 23:31:48,080 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint UK_gvu9yy8rcb4h2hr1f6av0f0ml unique (nombre)
2021-01-04 23:31:48,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint UKcabtkqf5f3h1o0ag4146m3fwm unique (proyecto_id, herramienta_id)
2021-01-04 23:31:48,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table roles add constraint UK_ldv0v52e0udsh2h1rs0r0gw1n unique (nombre)
2021-01-04 23:31:48,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_fe54wcy09qu2gqms03v5hvgf unique (cod_activacion)
2021-01-04 23:31:48,111 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_h0em1k5lbnom22yg59fc35728 unique (cod_cambio_passw)
2021-01-04 23:31:48,111 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios add constraint UK_m2dvbwfge291euvmk6vkkocao unique (username)
2021-01-04 23:31:48,111 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint UKqjaspm7473pnu9y4jxhrds8r2 unique (usuario_id, role_id)
2021-01-04 23:31:48,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto add constraint FK391t9hcdgfjcs6f7xf4khf1sp foreign key (cliente_id) references clientes
2021-01-04 23:31:48,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKq87ke7fdkv8d2yjc4ili8pg1t foreign key (herramienta_id) references herramienta
2021-01-04 23:31:48,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table proyecto_herramienta add constraint FKn0ya56kcb23nev3x5pxemuw76 foreign key (proyecto_id) references proyecto
2021-01-04 23:31:48,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKihom0uklpkfpffipxpoyf7b74 foreign key (role_id) references roles
2021-01-04 23:31:48,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] alter table usuarios_roles add constraint FKqcxu02bqipxpr7cjyj9dmhwec foreign key (usuario_id) references usuarios
2021-01-04 23:31:48,158 INFO org.hibernate.tool.schema.internal.exec.AbstractScriptSourceInput [restartedMain] HHH000476: Executing import script 'file:/C:/Proyectos/AngularSpring/restaurante/restaurante-back/target/classes/import.sql'
2021-01-04 23:31:48,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios (username, password, finalizada_activacion, enabled, nombre, apellidos, email) VALUES ('antonio63j@hotmail.com','12345', true, true, 'Antonio','fernandez','antonio63j@hotmail.com')
2021-01-04 23:31:48,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_USER')
2021-01-04 23:31:48,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO roles (nombre) VALUES ('ROLE_ADMIN')
2021-01-04 23:31:48,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 1)
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO usuarios_roles (usuario_id, role_id) VALUES (1, 2)
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('configuración de la web', 'empresa.png', 'En este apartado se podrá cambiar los datos de contacto de la empresa', 'empresa' )
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('images de la página principal', 'home.png', 'En este apartado se podrá cambiar los imagenes de la página de entrada (home)', 'admslider' )
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO adminindex ( cabecera, imagen, body, route) VALUES ('clasificación de platos', 'tipos.png', 'En este apartado se podrá clasificar los ditintos platos, por ejemplo añadir tipo carnes, pescados, ...', 'admtiposplatos')
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO empresa(descripcion_breve, direccion, email, horario, nombre, provincia, telefono, urlweb) VALUES ('descripcion breve', 'c/Cortubi n.22', '@info@fernandezlucena.es', 'horario de 9 a 22h','Cazuela Cortubí', 'Madrid', '627336511', 'http://localhost:4200')
2021-01-04 23:31:48,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] INSERT INTO sliders ( img_file_name, label, descripcion) VALUES ('slider1.jpg', 'labelx', 'descripcionx')
2021-01-04 23:31:48,190 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-04 23:31:48,190 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-04 23:31:48,221 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-01-04 23:31:49,273 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-04 23:31:49,759 INFO com.afl.restaurante.auth.SpringSecurityConfig [restartedMain] En BCryptPasswordEncoder
2021-01-04 23:31:50,184 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [restartedMain] select empresa0_.id as id1_3_0_, empresa0_.descripcion_breve as descripc2_3_0_, empresa0_.direccion as direccio3_3_0_, empresa0_.email as email4_3_0_, empresa0_.horario as horario5_3_0_, empresa0_.nombre as nombre6_3_0_, empresa0_.provincia as provinci7_3_0_, empresa0_.telefono as telefono8_3_0_, empresa0_.urlweb as urlweb9_3_0_ from empresa empresa0_ where empresa0_.id=?
2021-01-04 23:31:50,418 WARN org.thymeleaf.templatemode.TemplateMode [restartedMain] [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2021-01-04 23:31:50,476 WARN org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter [restartedMain] Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2021-01-04 23:31:51,756 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23024414, org.springframework.security.web.context.SecurityContextPersistenceFilter@56d59ee2, org.springframework.security.web.header.HeaderWriterFilter@4cf917a2, org.springframework.security.web.authentication.logout.LogoutFilter@6f9158d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a9c3b23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e4af72b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76b41dae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@144d6fc5, org.springframework.security.web.session.SessionManagementFilter@4461a520, org.springframework.security.web.access.ExceptionTranslationFilter@13fc0df0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@dcdbb73]
2021-01-04 23:31:51,787 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@150d8ddc, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47642036, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b7683d4, org.springframework.security.web.header.HeaderWriterFilter@e7a9373, org.springframework.web.filter.CorsFilter@68be38ee, org.springframework.security.web.authentication.logout.LogoutFilter@4c83284d, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4a687051, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501dc487, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a2624fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71890ab, org.springframework.security.web.session.SessionManagementFilter@59e21d2b, org.springframework.security.web.access.ExceptionTranslationFilter@7643a87d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b289c3e]
2021-01-04 23:31:51,801 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ce3568c, org.springframework.security.web.context.SecurityContextPersistenceFilter@279a719c, org.springframework.security.web.header.HeaderWriterFilter@30cdcd5c, org.springframework.security.web.authentication.logout.LogoutFilter@129fee9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c238b3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@725a14cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36f84b10, org.springframework.security.web.session.SessionManagementFilter@a53dc00, org.springframework.security.web.access.ExceptionTranslationFilter@3b160499, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60d7ffb3]
2021-01-04 23:31:51,967 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2021-01-04 23:31:52,001 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2021-01-04 23:31:52,005 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started BootAppRestaurante in 12.92 seconds (JVM running for 13.849)
2021-01-04 23:32:02,809 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-04 23:32:02,810 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2021-01-04 23:32:02,854 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 44 ms
2021-01-04 23:33:36,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 23:33:36,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select roles0_.usuario_id as usuario_1_10_0_, roles0_.role_id as role_id2_10_0_, role1_.id as id1_7_1_, role1_.nombre as nombre2_7_1_ from usuarios_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.usuario_id=?
2021-01-04 23:33:36,470 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-8] Role:ROLE_USER
2021-01-04 23:33:36,472 INFO com.afl.restaurante.services.UsuarioService [http-nio-8080-exec-8] Role:ROLE_ADMIN
2021-01-04 23:33:36,656 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] select usuario0_.id as id1_9_, usuario0_.acepta_emails as acepta_e2_9_, usuario0_.apellidos as apellido3_9_, usuario0_.cod_activacion as cod_acti4_9_, usuario0_.cod_cambio_passw as cod_camb5_9_, usuario0_.email as email6_9_, usuario0_.enabled as enabled7_9_, usuario0_.esperando_cambio_passw as esperand8_9_, usuario0_.fecha_activado as fecha_ac9_9_, usuario0_.fecha_registro as fecha_r10_9_, usuario0_.fecha_sol_cambio_passw as fecha_s11_9_, usuario0_.finalizada_activacion as finaliz12_9_, usuario0_.nombre as nombre13_9_, usuario0_.password as passwor14_9_, usuario0_.telefono as telefon15_9_, usuario0_.username as usernam16_9_ from usuarios usuario0_ where usuario0_.username=?
2021-01-04 23:33:37,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
2021-01-04 23:33:37,223 INFO com.afl.restaurante.controllers.EmpresaController [http-nio-8080-exec-10] sliders:
2021-01-04 23:33:37,224 INFO com.afl.restaurante.controllers.EmpresaController [http-nio-8080-exec-10] [Slider(id=1, imgFileName=slider1.jpg, label=labelx, descripcion=descripcionx)]
2021-01-04 23:33:37,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] select slider0_.id as id1_8_, slider0_.descripcion as descripc2_8_, slider0_.img_file_name as img_file3_8_, slider0_.label as label4_8_ from sliders slider0_
